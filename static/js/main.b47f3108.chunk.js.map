{"version":3,"sources":["config.js","Home.js","codeMirror.js","refreshable.js","lang/parser.js","lang/prettyprinter.js","lang/colors.js","TextEditor.js","blockly.js","converter.js","BlocklyEditor.js","SplitView.js","evaluator.js","db.js","Console.js","SharedState.js","Task.js","TabsContext.js","Tabs.js","TabsHeader.js","BlocklyView.js","TextView.js","CodeBlock.js","Booklet.js","jss.js","lang/theme.js","lang/blocks.js","lang/definitions.js","App.js","serviceWorker.js","index.js"],"names":["config","name","version","Home","classes","this","props","react_default","a","createElement","className","container","Link","to","Component","injectSheet","maxWidth","margin","window","refreshable","WrappedComponent","_Component","_temp","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onBeforeUnload","setState","render","state","inherits","createClass","key","value","addEventListener","removeEventListener","parser","ParseError","message","hash","_getPrototypeOf2","_len","arguments","length","params","Array","_key","apply","concat","assign","assertThisInitialized","Error","yy","parseError","light","TextEditor","editorChange","sharedState","editor","clearGutter","markers","forEach","x","clear","astChange","ast","parse","getValue","updateAst","e","symbol","loc","marker","markText","line","first_line","ch","first_column","last_line","last_column","error","push","errorLine","clean","str","replace","token","expected","map","join","setGutterMarker","document","style","color","fontSize","lineHeight","textAlign","innerHTML","title","makeMarker","off","setValue","prettyPrinter","print","on","React","createRef","PrettyPrinter","CodeMirror","current","lineNumbers","indentUnit","indentWithTabs","mode","theme","gutters","setSize","refresh","sharedStore","get","set","ref","@global",".CodeMirror","position",".errors","minHeight","borderLeft","backgroundColor","width","height","borderBottom","Blockly","getAllItems","nextBlockIterator","zip","block","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","input","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","field","regenerator_default","wrap","_context","prev","next","undefined","inputList","Symbol","iterator","done","fieldRow","t0","return","finish","t1","stop","_marked","start","b","_context2","getNextBlock","_marked2","getBlockArguments","toConsumableArray","filter","item","moveTo","y","getRelativeToSurfaceXY","moveBy","args","iterators","_args3","_context3","some","abrupt","_marked3","isValue","isCommand","isArray","isList","load","workspace","setResizesEnabled","blocks","generate","_ast","toArray","c","astArgs","slice","newBlock","blockArgs","initSvg","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_ref3","_ref2","slicedToArray","blockArg","astArg","FieldVariable","variable","createVariable","getId","child","connection","connect","outputConnection","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","previousConnection","nextConnection","err","formatBlocks","padding","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","BlocklyEditor","onWheel","scrollbar","vScroll","handlePosition_","ratio_","deltaY","workspaceChange","event","type","Events","BLOCK_CREATE","BLOCK_CHANGE","BLOCK_DELETE","BLOCK_MOVE","getProgramBlocks","constructor","FieldLabel","FieldTextInput","FieldNumber","getText","Input","target","targetBlock","INPUT_VALUE","NEXT_STATEMENT","disable","dispose","enable","getTopBlocks","_this2","inject","toolbox","xml","trashcan","scrollbars","collapse","zoom","controls","startScale","maxScale","minScale","scaleSpeed","_arr","entries","toolboxCategoryCallbacks","_i","_ref5","callback","registerToolboxCategoryCallback","_arr2","buttonCallbacks","_i2","_ref6","_ref4","registerButtonCallback","configureContextMenu","menuOptions","text","enabled","dom","Xml","textToDom","domToWorkspace","addChangeListener","workspaceToDom","domToText",".blocklyMainBackground","strokeWidth",".blocklyToolboxDiv","outline","SplitView","Children","children","display","flex","zIndex","SemanticError","RuntimeError","descent","_callee11","ctx","previous","_context11","running","table","sent","iterate","_callee12","_context12","wait","binaryOperator","fun","_ref","asyncToGenerator","mark","_callee","_args","t2","t3","_x6","_x7","Program","_Program","_callee3","_args5","stmts","variables","_x10","_x11","If","_If","_callee4","_args7","expr","_context4","defineProperty","_x12","_x13","Elseif","_Elseif","_callee5","_args9","_context5","_x14","_x15","_x16","Else","_Else","_callee6","_args11","_context6","_x17","_x18","_x19","While","_While","_callee7","_args13","_context7","_x20","_x21","And","Or","Not","_callee2","_x8","_x9","String","Print","_Print","_callee8","_args16","_context8","Number","isInteger","toFixed","_x22","_x23","Line","_Input","_callee9","_context9","_x24","Concat","toString","Id","id","Assignment","_Assignment","_callee10","_args20","_context10","update","_x25","_x26","parseFloat","Plus","Minus","Divides","DividesInt","Math","trunc","Times","Eq","Neq","Gt","Geq","Lt","Leq","evaluate","_callee13","delimiter","node","_context13","console","log","api","Api","process","fetch","bind","username","password","response","data","post","ok","json","sessionStorage","setItem","group","task","action","getItem","authorization","tabName","db","signIn","signUp","storeAst","tabSwitch","flexDirection","toolbar","paddingLeft","& button","all","&:hover","split","fontFamily","overflow","watch","colors","border","onBlur","contentEditable","focus","Fragment","Console","onRun","stepping","step","run","onStep","changed","onPause","onStop","onScroll","lock","scrollTop","scrollHeight","offsetHeight","scrollLeft","scrollWidth","offsetWidth","messages","output","rendered","Promise","resolve","_this3","prevState","reject","onEnter","persist","textContent","isFinite","preventDefault","_x","Console_Input","onKeyPress","JSON","messagesChange","stringify","_this4","setTimeout","_this5","onClick","fontWeight","State","listeners","dispatchEvent","source","Store","storeKey","localStorage","getCombinedKey","SharedState","store","Task","content","marginTop","marginBottom","TabsContext","createContext","tabNames","setActiveTab","Tabs","activeTab","Provider","tab","TabsHeader","Consumer","BlocklyView","readOnly","svgResize","TextView","CodeBlock","literal","src_TextView","src_BlocklyView","flexFlow","Booklet","page","reader","commonmark","Parser","writer","ReactRenderer","renderers","code_block","parsed","& p","& code","jss","setup","preset",".cm-s-custom span.cm-program",".cm-s-custom span.cm-control",".cm-s-custom span.cm-io",".cm-s-custom span.cm-string",".cm-s-custom span.cm-variables",".cm-s-custom span.cm-numbers","createStyleSheet","attach","lang_blocks","message0","message1","args1","check","colour","args0","previousStatement","nextStatement","inputsInline","button","setAttribute","xmls","getVariablesOfType","Variables","generateVariableFieldXmlString","firstChild","getTargetWorkspace","center","regex","indent","dedent","meta","electricChars","App","setUsername","defineBlocksWithJsonArray","defineSimpleMode","BrowserRouter","header","navigation","link","Route","exact","path","component","App_User","Playground1","Playground2","Exam","tasks","User","onSignUp","onSubmit","borderSpacing","src_SharedState","src_SplitView","src_Console","src_BlocklyEditor","src_TextEditor","src_Tabs","i","src_TabsHeader","src_Task","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b47f3108.chunk.js","sourcesContent":["import packageJson from '../package.json';\n\nexport default {\n  name: 'Poliglot',\n  version: packageJson.version\n}\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\nimport {Link} from \"react-router-dom\";\nimport config from './config';\n\nconst style = {\n  container: {\n    maxWidth: '1000px',\n    margin: 'auto'\n  }\n};\n\nclass Home extends Component {\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div className={classes.container}>\n        <h1>{config.name}</h1>\n        <p>\n          <Link to=\"/playground1\">Bločno</Link>\n        </p>\n        <p>\n          <Link to=\"/playground2\">Tekstovno</Link>\n        </p>\n        <p>\n          <Link to=\"/exam\">Naloge</Link>\n        </p>\n     </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Home);\n","export default window.CodeMirror\n","import React, {Component} from 'react';\n\nexport default function refreshable(WrappedComponent) {\n\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        render: true\n      }\n    }\n\n    onBeforeUnload = () => {\n      this.setState({render: false});\n    }\n\n    componentDidMount() {\n      window.addEventListener('beforeunload', this.onBeforeUnload);\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('beforeunload', this.onBeforeUnload);\n    }\n\n    render() {\n      return this.state.render && <WrappedComponent {...this.props} />\n    }\n  };\n}\n","const parser = window.parser;\n\nclass ParseError extends Error {\n  constructor(message, hash, ...params) {\n    super(...params);\n    this.message = message;\n    Object.assign(this, hash);\n  }\n}\n\nparser.yy.parseError = function(message, hash) {\n  throw new ParseError(message, hash);\n}\n\nexport default parser;\nexport {ParseError};\n","export default window.PrettyPrinter;\n","/*export const light = {\n  green: \"#00b774\",\n  blue: \"#24a7ff\",\n  yellow: \"#e7c500\",\n  red: \"#ff7194\",\n  orange: \"#ff7576\" // 28, 100, 70\n};*/\n\n/*export const light = {\n  green: \"#385a7c\",\n  blue: \"#008db9\",\n  yellow: \"#e8606a\",\n  red: \"#75e561\",\n  orange: \"#e5e561\"\n};*/\n\nexport const light = {\n  program: \"#005071\",\n  control: \"#279899\",\n  variables: \"#41b6e6\",\n  io: \"#ff585d\",\n  numbers: \"#ffb549\",\n  bool: \"#ff5a49\"\n};\n\n\n","import React, { Component } from 'react';\nimport CodeMirror from './codeMirror';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport parser, {ParseError} from './lang/parser';\nimport PrettyPrinter from './lang/prettyprinter';\nimport {light as colors} from './lang/colors';\n\nconst style = {\n  '@global': {\n    '.CodeMirror': {\n      position: 'absolute',\n    },\n    '.errors': {\n      minHeight: 'calc(100% + 30px)',  // HACK: min-height: 100% doesn't work in chrome\n      borderLeft: '1px solid #ddd',\n      backgroundColor: '#f2f2f2',\n      width: 15\n    }\n  },\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n  error: {\n    borderBottom: '2px solid red'\n  },\n\n  errorLine: {\n    color: 'red'\n  },\n}\n\nclass TextEditor extends Component {\n\n  constructor(props) {\n    super(props);\n    this.container = React.createRef();\n    this.editor = null;\n    this.prettyPrinter = new PrettyPrinter();\n    this.markers = [];\n  }\n\n  editorChange = () => {\n    const {sharedState} = this.props;\n    try {\n      this.editor.clearGutter('errors');\n      this.markers.forEach(x => x.clear());\n      this.markers = [];\n\n      sharedState.removeEventListener('ast', this.astChange);\n      const ast = parser.parse(this.editor.getValue());\n      sharedState.updateAst(ast, 'text');\n      sharedState.addEventListener('ast', this.astChange);\n    } catch(e) {\n      if (e instanceof ParseError) {\n\n        let symbol, message;\n        if (e.loc != null) {\n          const marker = this.editor.markText(\n            {line: e.loc.first_line - 1, ch: e.loc.first_column},\n            {line: e.loc.last_line - 1, ch: e.loc.last_column },\n            {className: this.props.classes.error});\n          this.markers.push(marker);\n          this.errorLine = e.loc.first_line - 1;\n          symbol = '\\u2738';\n\n          const clean = (str) => '\"' + str.replace(/[_']/g, '') + '\"';\n          message = `dobil sem ${clean(e.token)}, pričakoval sem ${e.expected.map(clean).join(', ')}`;\n        } else {\n          this.errorLine = e.line;\n          symbol = '\\u25B4';\n          message = 'neznani simbol'\n        }\n\n        const makeMarker = () => {\n          var marker = document.createElement(\"div\");\n          marker.style.color = 'red';\n          marker.style.fontSize = '20px';\n          marker.style.lineHeight = '13px';\n          marker.style.margin = '0 auto';\n          marker.style.textAlign = 'center';\n          marker.innerHTML = symbol;\n          marker.title = message;\n          return marker;\n        }\n        this.editor.setGutterMarker(this.errorLine, \"errors\", makeMarker());\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  astChange = (ast) => {\n    this.editor.off('change', this.editorChange);\n    this.editor.setValue(this.prettyPrinter.print(ast));\n    this.editor.on('change', this.editorChange);\n  }\n\n  componentDidMount() {\n    this.editor = CodeMirror(this.container.current, {\n      lineNumbers: true,\n      indentUnit: 4,\n      indentWithTabs: true,\n      mode: 'custom',\n      theme: 'custom',\n      gutters: ['CodeMirror-linenumbers', 'errors']\n    });\n    this.editor.setSize('100%', '100%');\n    this.editor.refresh();\n    const value = this.props.sharedStore.get('TextEditor');\n    if (value != null) {\n      this.editor.setValue(value);\n    }\n    this.editor.on(\"change\", this.editorChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    this.props.sharedStore.set('TextEditor', this.editor.getValue());\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container} ref={this.container} />\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(TextEditor));\n","const Blockly = window.Blockly;\n\nexport default Blockly;\n","import Blockly from './blockly'\n\nfunction* getAllItems(block) {\n  for (let input of block.inputList) {\n    for (let field of input.fieldRow) {\n      yield field;\n    }\n    yield input;\n  }\n}\n\nfunction* nextBlockIterator(start) {\n  for (let b = start; b != null; b = b.getNextBlock()) {\n    yield b;\n  }\n}\n\nfunction getBlockArguments(block) {\n  return [...getAllItems(block)].filter(item => item.name);\n}\n\nfunction moveTo(block, x, y) {\n  const current = block.getRelativeToSurfaceXY();\n  block.moveBy(x - current.x , y - current.y);\n}\n\nfunction* zip(...args) {\n  const iterators = args.map(x => x[Symbol.iterator]());\n  while (true) {\n    const current = iterators.map(x => x.next());\n    if (current.some(x => x.done)) {\n      break;\n    }\n    yield current.map(x => x.value);\n  }\n}\n\nfunction isValue(ast) {\n  return typeof ast === 'string';\n}\n\nfunction isCommand(ast) {\n  return Array.isArray(ast) && typeof ast[0] === 'string';\n}\n\nfunction isList(ast) {\n  return Array.isArray(ast) && typeof ast[0] !== 'string';\n}\n\nfunction load(workspace, ast) {\n  function generate(ast) {\n    let [c, ...astArgs] = ast;\n\n    const block = workspace.newBlock(c);\n    const blockArgs = getBlockArguments(block);\n    block.initSvg();\n    block.render();\n\n    for (let [blockArg, astArg] of zip(blockArgs, astArgs)) {\n      if (isValue(astArg)) {\n        if (blockArg instanceof Blockly.FieldVariable) {\n          const variable = workspace.createVariable(astArg, 'Number');\n          blockArg.setValue(variable.getId());\n        } else {\n          blockArg.setValue(astArg);\n        }\n      } else if (isCommand(astArg)) {\n        const child = generate(astArg);\n        blockArg.connection.connect(child.outputConnection);\n      } else if (isList(astArg)) {\n        let connection = blockArg.connection;\n        for (let item of astArg) {\n          const child = generate(item);\n          connection.connect(child.previousConnection);\n          connection = child.nextConnection;\n        }\n      }\n    }\n    return block;\n  }\n\n  if (ast == null) {\n    return null;\n  }\n\n  workspace.setResizesEnabled(false);\n  const blocks = ast.map(generate);\n  workspace.setResizesEnabled(true);\n  return blocks;\n}\n\nfunction save(blocks) {\n  function generate(block) {\n    if (block == null) {\n      throw Error(\"XXX\");\n    }\n\n    let astArgs = getBlockArguments(block).map(blockArg => {\n      switch (blockArg.constructor) {\n        case Blockly.FieldLabel:\n          return;\n        case Blockly.FieldTextInput:\n        case Blockly.FieldNumber:\n        case Blockly.FieldVariable:\n          return blockArg.getText();\n        case Blockly.Input: {\n          const target = blockArg.connection.targetBlock();\n          switch (blockArg.type) {\n            case Blockly.INPUT_VALUE:\n              return generate(target);\n            case Blockly.NEXT_STATEMENT:\n              return [...nextBlockIterator(target)].map((blockArg) => generate(blockArg));\n          }\n        }\n          throw new Error('Unexpected block argument type');\n      }\n    });\n    return [block.type, ...astArgs];\n  }\n  return blocks.map(generate);\n}\n\nfunction formatBlocks(blocks, padding = 2) {\n  let position = 0;\n  for (let block of blocks) {\n    moveTo(block, 0, position);\n    position += block.height + padding;\n  }\n\n  return position - padding;\n}\n\nexport {save, load, formatBlocks};\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport Blockly from './blockly';\nimport {save, load, formatBlocks} from './converter';\n\nconst style = {\n  '@global': {\n    '.blocklyMainBackground': {\n      strokeWidth: 0\n    },\n    '.blocklyToolboxDiv': {\n      backgroundColor: '#f7f7f7',\n      outline: '1px solid #ddd'\n    }\n  }\n};\n\nclass BlocklyEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.editor = React.createRef();\n    this.workspace = null;\n  }\n\n  onWheel = (e) => {\n    const scrollbar = this.workspace.scrollbar.vScroll;\n    scrollbar.set((scrollbar.handlePosition_ / scrollbar.ratio_) + e.deltaY);\n  }\n\n  getProgramBlocks() {\n    return this.workspace.getTopBlocks(true).filter(x => x.type === 'Program'); // TODO: Solve coupling\n  }\n\n  workspaceChange = event => {\n    if (event.type === Blockly.Events.BLOCK_CREATE ||\n      event.type === Blockly.Events.BLOCK_CHANGE ||\n      event.type === Blockly.Events.BLOCK_DELETE ||\n      event.type === Blockly.Events.BLOCK_MOVE) {\n\n      const {sharedState} = this.props;\n      try {\n        sharedState.removeEventListener('ast', this.astChange);\n        sharedState.updateAst(save(this.getProgramBlocks()), 'blocks');\n        sharedState.addEventListener('ast', this.astChange);\n      } catch(e) {\n        // TODO: bettter solution?\n      }\n    }\n  }\n\n  astChange = ast => {\n      Blockly.Events.disable();\n      this.getProgramBlocks().forEach(x => x.dispose());\n      const blocks = load(this.workspace, ast);\n      if (blocks != null) {\n        formatBlocks(blocks, 22);\n      }\n      Blockly.Events.enable();\n  }\n\n  componentDidMount() {\n    this.workspace = Blockly.inject(this.editor.current, {\n        toolbox: this.props.toolbox.xml,\n        trashcan: true,\n        scrollbars: true,\n        collapse: true,\n        zoom: {\n          controls: true,\n          startScale: 1.0,\n          maxScale: 3,\n          minScale: 0.3,\n          scaleSpeed: 1.2\n        },\n    });\n    for (let [key, callback] of Object.entries(this.props.toolbox.toolboxCategoryCallbacks)) {\n      this.workspace.registerToolboxCategoryCallback(key, callback);\n    }\n    for (let [key, callback] of Object.entries(this.props.toolbox.buttonCallbacks)) {\n      this.workspace.registerButtonCallback(key, callback);\n    }\n    this.workspace.configureContextMenu = menuOptions => {\n      menuOptions.push({\n        text: 'Format',\n        enabled: true,\n        callback: () => {\n          formatBlocks(this.getProgramBlocks(), 22);\n        }\n      })\n    }\n\n    const xml = this.props.sharedStore.get('BlocklyEditor');\n    if (xml != null) {\n      const dom = Blockly.Xml.textToDom(xml);\n      Blockly.Events.disable();\n      Blockly.Xml.domToWorkspace(dom, this.workspace);\n      Blockly.Events.enable();\n    }\n    this.workspace.addChangeListener(this.workspaceChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    const dom = Blockly.Xml.workspaceToDom(this.workspace);\n    const xml = Blockly.Xml.domToText(dom);\n\n    this.props.sharedStore.set('BlocklyEditor', xml);\n  }\n\n  render() {\n    return (\n      <div style={{width: '100%', height: '100%'}} ref={this.editor} onWheel={this.onWheel} />\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(BlocklyEditor));\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\n\nconst style = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n  child: {\n    flex: '1 1 0',\n    position: 'relative',\n    outline: '1px solid gainsboro',\n    zIndex: 100\n  }\n};\n\nclass SplitView extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <div {...this.props} className={classes.container}>\n        {React.Children.map(this.props.children, child =>\n          <div className={classes.child}>\n            {child}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(SplitView);\n","import {isValue, isCommand, isList} from './ast';\n\nclass SemanticError extends Error {}\nclass RuntimeError extends Error {}\n\nasync function descent(ctx, ast, previous) {\n  const [c, ...args] = ast;\n  if (!ctx.running()) {\n    ctx.error(\"STOP\");\n    throw new RuntimeError();\n  }\n  return await table[c](ctx, args, previous);\n}\n\nasync function iterate(ctx, a) {\n  let previous;\n  for (let x of a) {\n    await ctx.wait();\n    previous = await descent(ctx, x, previous);\n  }\n}\n\nfunction binaryOperator(fun) {\n  return async (ctx, args) => {\n    const [a, b] = args;\n    return fun(await descent(ctx, a), await descent(ctx, b), ctx);\n  }\n}\n\nfunction unaryOperator(fun) {\n  return async (ctx, args) => {\n    const [a] = args;\n    return fun(await descent(ctx, a));\n  }\n}\n\nconst next = Symbol('next');\n\nconst table = {\n  Program: async function(ctx, args) {\n    const [stmts] = args;\n    ctx.variables = {};\n    await iterate(ctx, stmts);\n  },\n\n  If: async function(ctx, args) {\n    const [expr, stmts] = args;\n    if (await descent(ctx, expr)) {\n      await iterate(ctx, stmts);\n      return {[next]: false};\n    }\n    return {[next]: true};\n  },\n\n  Elseif: async function(ctx, args, previous) {\n    if (previous == null || previous[next] == null) {\n      throw new SemanticError(\"Semantic error\")\n    }\n\n    const [expr, stmts] = args;\n    if (!previous[next]) {\n      return {[next]: false};\n    }\n\n    if (await descent(ctx, expr)) {\n      await iterate(ctx, stmts);\n      return {[next]: false};\n    }\n    return {[next]: true};\n  },\n\n  Else: async function(ctx, args, previous) {\n    if (previous == null || previous[next] == null) {\n      throw new SemanticError(\"Semantic error\")\n    }\n\n    if (!previous[next]) {\n      return;\n    }\n\n    const [stmts] = args;\n    await iterate(ctx, stmts);\n  },\n\n  While: async function(ctx, args) {\n    const [expr, stmts] = args;\n    while (await descent(ctx, expr)) {\n      await iterate(ctx, stmts);\n    }\n  },\n\n  And: binaryOperator((a, b) => (a && b)|0),\n  Or: binaryOperator((a, b) => (a || b)|0),\n  Not: unaryOperator((a) => (!a)|0),\n\n  String: function(ctx, args) {\n      const [string] = args;\n      return string;\n  },\n\n  Print: async function(ctx, args) {\n    const [expr] = args;\n    let value = await descent(ctx, expr)\n    if (!Number.isInteger(value)) {\n      value = value.toFixed(2);\n    }\n    await ctx.print(value);\n  },\n\n  Line: function(ctx) {\n      return '\\n';\n  },\n\n  Input: async function(ctx) {\n    return await ctx.input();\n  },\n\n  Concat: binaryOperator((a, b) => a.toString() + b.toString()),\n\n  Id: function(ctx, args) {\n    const [id] = args;\n    if (!(id in ctx.variables)) {\n      ctx.error(\"Nedefinirana spremenljivka\");\n      throw RuntimeError();\n    }\n    return ctx.variables[id];\n  },\n\n  Assignment: async function(ctx, args) {\n    const [id, expr] = args;\n    ctx.variables[id] = await descent(ctx, expr);\n    ctx.update(ctx.variables, id);\n  },\n\n  Number: function(ctx, args) {\n    return parseFloat(args, 10);\n  },\n\n  Plus: binaryOperator((a, b) => a + b),\n  Minus: binaryOperator((a, b) => a - b),\n  Divides: binaryOperator((a, b, ctx) => {\n    if (a == 0 && b == 0) {\n      ctx.error(\"Nedoločeno\");\n      throw new RuntimeError();\n    }\n    if (b == 0) {\n      ctx.error(\"Nedefinirano\");\n      throw new RuntimeError();\n    }\n    return a / b;\n  }),\n  DividesInt: binaryOperator((a, b, ctx) => {\n    if (a == 0 && b == 0) {\n      ctx.error(\"Nedoločeno\");\n      throw new RuntimeError();\n    }\n    if (b == 0) {\n      ctx.error(\"Nedefinirano\");\n      throw new RuntimeError();\n    }\n    return Math.trunc(a / b);\n  }),\n  Times: binaryOperator((a, b) => a * b),\n  Eq: binaryOperator((a, b) => (a === b)|0),\n  Neq: binaryOperator((a, b) => (a !== b)|0),\n  Gt: binaryOperator((a, b) => (a < b)|0),\n  Geq: binaryOperator((a, b) => (a <= b)|0),\n  Lt: binaryOperator((a, b) => (a > b)|0),\n  Leq: binaryOperator((a, b) => (a >= b)|0)\n}\n\nasync function evaluate(ast, print, input, error, wait, update, running, delimiter) {\n  for (let node of ast) {\n    try {\n      await descent({print, input, error, wait, update, running}, node);\n    } catch(e) {\n      if (e instanceof SemanticError) {\n        print(\"ERROR\");\n      } else if (e instanceof RuntimeError) {\n      } else {\n        throw e;\n      }\n    }\n    delimiter();\n  }\n}\n\nexport {evaluate};\n","import {Api} from '@poliglot/shared';\nimport config from './config';\n\nconsole.log(typeof window)\nconst api = new Api(process.env.REACT_APP_APIURL || 'http://localhost:8080', window.fetch.bind(window));\n\nasync function signIn(username, password) {\n  const response = await api.post('signin', {\n    username,\n    password\n  });\n  if (!response.ok) {\n    throw new Error('Wrong username or password!');\n  }\n\n  const data = await response.json();\n  sessionStorage.setItem('token', data.token);\n}\n\nasync function signUp(username, group, password) {\n  const response = await api.post('signup', {\n    username,\n    group,\n    password\n  });\n\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.message);\n  }\n}\n\nasync function storeAst(task, action, ast) {\n  const token = sessionStorage.getItem('token');\n  await api.post('log/change', api.authorization(token), {\n    version: config.version,\n    task,\n    action,\n    ast,\n  });\n}\n\nasync function tabSwitch(tabName) {\n  const token = sessionStorage.getItem('token');\n  await api.post('log/tabswitch', api.authorization(token), {\n    version: config.version,\n    tabName\n  });\n}\n\nexport default {\n  signIn,\n  signUp,\n  storeAst,\n  tabSwitch\n}\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport {evaluate} from './evaluator';\nimport {light as colors} from './lang/colors';\nimport db from './db';\n\nconst style = {\n  container: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: 'white'\n  },\n  toolbar: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 5,\n    outline: '1px solid #ddd',\n    '& button': {\n      all: 'unset',\n      padding: '5px 10px',\n      '&:hover': {\n        backgroundColor: 'gainsboro'\n      }\n    }\n  },\n  split: {\n    display: 'flex',\n    flex: '1 1 0',\n    fontFamily: 'Source Code Pro, monospace',\n    fontSize: '0.9rem',\n  },\n  console: {\n    flex: '1 1 0',\n    overflow: 'auto',\n    margin: 0,\n    padding: 5,\n    outline: '1px solid gainsboro',\n    backgroundColor: 'white'\n  },\n  watch: {\n    width: 200,\n    padding: 5,\n    outline: '1px solid gainsboro',\n    backgroundColor: '#fefefe'\n  },\n  error: {\n    color: colors.io\n  },\n  input: {\n    border: '1px solid transparent',\n    '&:hover': {\n      backgroundColor: 'whitesmoke',\n      border: '1px solid gray'\n    }\n  }\n}\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef();\n  }\n\n  componentDidMount() {\n    this.input.current.focus();\n  }\n\n  onBlur = () => {\n    if (this.input.current.contentEditable) {\n      this.input.current.focus();\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <span {...this.props} ref={this.input} onBlur={this.onBlur} contentEditable='true' style={{display: 'inline-block'}} />\n        <br />\n      </React.Fragment>\n    );\n  }\n}\n\nclass Console extends Component { // TODO: A bit inefficient because the component is controlled\n\n  constructor(props) {\n    super(props);\n\n    this.ast = [];\n    this.state = {\n      messages: [],\n      output: [],\n      variables: [],\n      changed: null,\n      running: false,\n      stepping: false,\n      lock: true\n    }\n    this.step = () => {};\n    this.rendered = null;\n    this.line = React.createRef();\n  }\n\n  astChange = (ast) => {\n    this.ast = ast;\n  }\n\n  async run() {\n    const {classes} = this.props;\n\n    const print = (message) => {\n      return new Promise(resolve => {\n        this.rendered = () => {\n          resolve();\n        };\n\n        this.setState(prevState => {\n          return {output: [...prevState.output, <span className={classes.input}>{message}</span>]};\n        });\n      });\n    };\n\n    const error = message => {\n      this.setState(prevState => {\n        return {output: [...prevState.output, <div className={classes.error}>{message}</div>], running: false};\n      });\n    };\n\n    const delimiter = message => {\n      this.setState(prevState => {\n        return {output: [...prevState.output, <hr style={{backgroundColor: 'gainsboro', height: '1px', border: 0}} />]};\n      });\n    };\n\n    const input = async () => {\n      return new Promise((resolve, reject) => {\n        const onEnter = async event => {\n          event.persist();\n          if (event.key === 'Enter') {\n            const text = event.target.textContent;\n            if (text !== '' && isFinite(text)) {\n              resolve(Number(text));\n            } else {\n              error(\"Neveljaven vnos\");\n              reject();\n            }\n            event.target.contentEditable = false;\n            event.preventDefault();\n            return;\n          }\n        }\n\n        this.setState(prevState => {\n          return {output: prevState.output.concat([\n            <Input className={classes.input} onKeyPress={onEnter} />\n          ])};\n        });\n      });\n    };\n\n    const wait = () => {\n      if (this.state.stepping) {\n        return new Promise(resolve => {\n          this.step = () => {\n            resolve();\n          }\n        });\n      }\n      return () => {};\n    };\n\n    const running = () => {\n      return this.state.running;\n    };\n\n    const update = (variables, changed) => {\n      this.setState({variables, changed});\n    };\n\n    this.setState({output: [], running: true, variables: [], changed: null}, async () => {\n      db.storeAst(this.props.task, 'run', this.ast);\n      await evaluate(this.ast, print, input, error, wait, update, running, delimiter);\n      this.setState({running: false});\n    });\n  }\n\n  onRun = () => {\n    if (!this.state.running) {\n      this.setState({stepping: false}, () => {\n        this.run();\n      });\n      return;\n    }\n\n    this.setState({stepping: false}, () => {\n      this.step();\n    });\n  }\n\n  onStep = () => {\n    if (!this.state.running) {\n      this.setState({stepping: true}, () => {\n        this.run();\n      });\n      return;\n    }\n\n    this.step();\n    this.setState({changed: null});\n  }\n\n  onPause = () => {\n    this.setState({stepping: true});\n  }\n\n  onStop = () => {\n    this.setState({running: false}, () => {\n      this.step();\n    });\n  }\n\n  onScroll = event => {\n    this.setState({lock: this.line.current.scrollTop === this.line.current.scrollHeight - this.line.current.offsetHeight ||\n      this.line.current.scrollLeft === this.line.current.scrollWidth - this.line.current.offsetWidth});\n  }\n\n  componentDidMount() {\n    const messages = JSON.parse(this.props.sharedStore.get('ConsoleMessages')) || this.state.messages;\n    this.setState({messages});\n    this.ast = JSON.parse(this.props.sharedStore.get('ConsoleAst')) || this.ast;\n\n    this.props.sharedState.addEventListener('messages', this.messagesChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    this.props.sharedStore.set('ConsoleMessages', JSON.stringify(this.state.messages));\n    this.props.sharedStore.set('ConsoleAst', JSON.stringify(this.ast));\n  }\n\n  componentDidUpdate() {\n    if (this.state.lock) {\n      this.line.current.scrollTop = this.line.current.scrollHeight; // TODO: Rename line\n      this.line.current.scrollLeft = this.line.current.scrollWidth;\n    }\n    if (this.rendered != null) {\n      setTimeout(() => {\n        this.rendered();\n      }, 0);\n    }\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container}>\n        <div className={classes.toolbar}>\n          <button onClick={this.onRun}>Run</button>\n          <button onClick={this.onStep}>Step</button>\n          <button onClick={this.onPause}>Pause</button>\n          <button onClick={this.onStop}>Stop</button>\n        </div>\n        <div className={classes.split}>\n          <pre ref={this.line} className={classes.console} onScroll={this.onScroll}>\n            {this.state.output}\n          </pre>\n          {this.state.stepping &&\n            <div className={classes.watch}>\n              {Object.entries(this.state.variables).map(([key, value]) =>\n                key === this.state.changed ?\n                  <div style={{fontWeight: 600}}>{key}: {value}</div> :\n                  <div>{key}: {value}</div>\n              )}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(Console));\n","import React, { Component } from 'react';\nimport db from './db';\n\nclass State {\n  constructor(task) {\n    this.task = task;\n    this.ast = null;\n    this.messages = [];\n    this.listeners ={};\n  }\n\n  addMessage(message) {\n    this.messages.push(message);\n    this.dispatchEvent('messages', this.messages);\n  }\n\n  clearMessages() {\n    this.messages = [];\n    this.dispatchEvent('messages', this.messages);\n  }\n\n  updateAst(ast, source) {\n    if (JSON.stringify(this.ast) === JSON.stringify(ast)) {\n      console.log(\"SAME\");\n      return;\n    }\n    console.log(source);\n    this.ast = ast;\n    this.dispatchEvent('ast', this.ast);\n    db.storeAst(this.task, source, ast); // TODO: Should state know about task?\n  }\n\n  addEventListener(event, callback) {\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  }\n\n  removeEventListener(event, callback) {\n    this.listeners[event] = this.listeners[event].filter(x => x != callback);\n  }\n\n  dispatchEvent(event, ...args) {\n    if (!(event in this.listeners)) {\n      return;\n    }\n    this.listeners[event].forEach(x => x(...args));\n  }\n}\n\nclass Store {\n  constructor(storeKey) {\n    this.storeKey = storeKey;\n  }\n\n  getCombinedKey(key) {\n    return `[${this.storeKey}$${key}]`\n  }\n\n  set(key, value) {\n    localStorage.setItem(this.getCombinedKey(key), value);\n  }\n\n  get(key) {\n    return localStorage.getItem(this.getCombinedKey(key));\n  }\n}\n\nclass SharedState extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = new State(this.props.task);\n    this.store = new Store(this.props.name);\n  }\n\n  render() {\n    return (\n      <React.Fragment>{this.props.render(this.state, this.store)}</React.Fragment>\n    );\n  }\n}\n\nexport default SharedState;\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\n\nconst style = {\n  container: {\n    flex: '1 1 0',\n    height: '100px',\n    backgroundColor: 'white',\n    overflow: 'auto',\n    padding: 5\n  },\n  title: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  }\n}\n\nclass Task extends Component {\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.title}>{this.props.title}</div>\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Task);\n","import React from 'react';\n\nexport const TabsContext = React.createContext({\n  tabNames: [],\n  setActiveTab: () => {}\n});\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\nimport {TabsContext} from './TabsContext'\nimport db from './db';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    height: '100%'\n  },\n  tab: {\n    flex: '1 1 0'\n  }\n}\n\nclass Tabs extends Component { // Make observable\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeTab: this.props.activeTab,\n      tabNames: [],\n      setActiveTab: this.setActiveTab\n    }\n  }\n\n  componentDidMount() {\n    this.setState({tabNames: React.Children.map(this.props.children, child => child.props.tabName)})\n  }\n\n  setActiveTab = tabName => {\n    db.tabSwitch(tabName);\n    this.setState({activeTab: tabName});\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container}>\n        <TabsContext.Provider value={this.state}>\n          {React.Children.map(this.props.children, child =>\n            child.props.tabName === this.state.activeTab && <div className={classes.tab}>{child}</div>\n          )}\n        </TabsContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Tabs);\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\nimport {TabsContext} from './TabsContext'\n\nconst style = {\n  toolbar: { // TODO: duplicated in console\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 5,\n    outline: '1px solid #ddd',\n    borderBottom: '1px solid #ddd',\n    '& button': {\n      all: 'unset',\n      padding: '5px 10px',\n      '&:hover': {\n        backgroundColor: 'gainsboro'\n      }\n    }\n  },\n}\n\nclass TabsHeader extends Component {\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <TabsContext.Consumer>\n        {({tabNames, setActiveTab}) => (\n          <div className={classes.toolbar}>\n            {tabNames.map(tabName =>\n              <button onClick={() => setActiveTab(tabName)}>{tabName}</button>\n            )}\n          </div>\n        )}\n      </TabsContext.Consumer>\n    );\n  }\n}\n\nexport default injectSheet(style)(TabsHeader);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport Blockly from './blockly';\nimport {load, formatBlocks} from './converter';\n\nconst style = {\n  '@global': {\n    '.blocklyMainBackground': { // TODO: Duplicated\n      strokeWidth: 0\n    }\n  }\n}\n\nclass BlocklyView extends Component {\n  constructor(props) {\n    super(props);\n    this.editor = React.createRef();\n  }\n\n  componentDidMount() {\n    const workspace = Blockly.inject(this.editor.current, {\n      readOnly: true\n    });\n    const blocks = load(workspace, this.props.ast); // TODO: Optimize this somehow, XML load disables a bunch of stuff when loading from XML\n    let height = formatBlocks(blocks, 22);\n\n    this.editor.current.style.height = height + 'px';\n    Blockly.svgResize(workspace);\n  }\n\n  render() {\n    return <div style={{width: '100%'}} ref={this.editor} />;\n  }\n}\n\nexport default injectSheet(style)(BlocklyView);\n","import React, { Component } from 'react';\nimport CodeMirror from './codeMirror';\nimport injectSheet from 'react-jss';\nimport PrettyPrinter from './lang/prettyprinter';\n\nconst style = { // TODO: Duplication\n  '@global': {\n    '.CodeMirror': {\n      height: '100%'\n    },\n  },\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  }\n}\n\nclass TextView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.container = React.createRef();\n  }\n\n  componentDidMount() {\n    const prettyPrinter = new PrettyPrinter();\n    const editor = CodeMirror(this.container.current, {\n      value: prettyPrinter.print(this.props.ast),\n      readOnly: true,\n      lineNumbers: true,\n      indentUnit: 4,\n      indentWithTabs: true,\n      mode: 'custom',\n      theme: 'custom'\n    });\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container} ref={this.container} />\n    );\n  }\n}\n\nexport default injectSheet(style)(TextView);\n","import React, {Component} from 'react';\nimport parser, {ParseError} from './lang/parser';\nimport BlocklyView from './BlocklyView';\nimport TextView from './TextView';\nimport injectSheet from 'react-jss';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexFlow: 'row',\n    padding: '10px 0'\n  },\n  child: {\n    flex: '1 1 0',\n    outline: '1px solid gainsboro',\n  }\n};\n\nclass CodeBlock extends Component {\n  render() {\n    const {classes} = this.props;\n\n    const ast = parser.parse(this.props.literal);\n    return (\n      <div className={classes.container}>\n        <div className={classes.child}>\n          <TextView ast={ast} />\n        </div>\n        <div className={classes.child}>\n          <BlocklyView ast={ast} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(CodeBlock);\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport commonmark from 'commonmark';\nimport ReactRenderer from 'commonmark-react-renderer';\nimport CodeBlock from './CodeBlock';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '1000px',\n    margin: 'auto',\n\n    '& p': {\n      lineHeight: '1.5em',\n    },\n    '& code': {\n      backgroundColor: 'whitesmoke',\n      border: '1px solid gainsboro'\n    }\n  }\n};\n\nclass Booklet extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      page: null\n    }\n  }\n\n  async componentDidMount() {\n    const reader = new commonmark.Parser();\n    const writer = new ReactRenderer({\n      renderers: {\n        'code_block': CodeBlock\n      }\n    });\n\n    const response = await fetch('https://booklet.poliglot.brokenpylons.com/index.md');\n    const data = await response.text();\n\n    const parsed = reader.parse(data);\n    const page = writer.render(parsed);\n    this.setState({page});\n  }\n\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div className={classes.container}>\n        {this.state.page}\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Booklet);\n","import jss from 'jss'\nimport preset from 'jss-preset-default'\n\njss.setup(preset());\n\nexport default jss;\n","import jss from '../jss'\nimport {light as colors} from './colors'\n\nconst style = {\n  '@global': {\n    '.CodeMirror': {\n      fontFamily: 'Source Code Pro, monospace',\n      fontSize: '0.9rem'\n    },\n    '.cm-s-custom span.cm-program': { \n      color: colors.program,\n      fontWeight: 700\n    },\n    '.cm-s-custom span.cm-control': {\n      color: colors.control,\n      fontWeight: 600\n    },\n    '.cm-s-custom span.cm-io': {\n      color: colors.io,\n      fontWeight: 600\n    },\n    '.cm-s-custom span.cm-string': {\n      color: colors.io,\n    },\n    '.cm-s-custom span.cm-variables': {\n      color: colors.variables\n    },\n    '.cm-s-custom span.cm-numbers': {\n      color: colors.numbers\n    },\n  }\n};\n\njss.createStyleSheet(style).attach();\n","import {light as colors} from './colors'\n\nexport default [\n  {\n    \"type\": \"Program\",\n    \"message0\": \"program\",\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"0\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"colour\": colors.program\n  },\n  {\n    \"type\": \"If\",\n    \"message0\": \"if %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": [\"If\", \"Any\"],\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Elseif\",\n    \"message0\": \"else if %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"If\",\n    \"nextStatement\": [\"If\", \"Any\"],\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Else\",\n    \"message0\": \"else\",\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"0\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"If\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"While\",\n    \"message0\": \"while %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Assignment\",\n    \"message0\": \"%1 %2\",\n    \"args0\": [\n      {\n        \"type\": \"field_variable\",\n        \"name\": \"VAR\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.variables\n  },\n  {\n    \"type\": \"Id\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_variable\",\n        \"name\": \"VAR\"\n      }\n    ],\n    \"output\": \"Number\",\n    \"colour\": colors.variables\n  },\n  {\n    \"type\": \"Print\",\n    \"message0\": \"print %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": [\"String\", \"Number\"]\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"String\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_input\",\n        \"text\": \"\",\n        \"name\": \"0\"\n      }\n    ],\n    \"output\": \"String\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Concat\",\n    \"message0\": \"%1 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"check\": [\"String\", \"Number\"],\n        \"name\": \"0\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"check\": [\"String\", \"Number\"],\n        \"name\": \"1\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"String\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Input\",\n    \"message0\": \"input\",\n    \"output\": \"Number\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Line\",\n    \"message0\": \"line\",\n    \"output\": \"Number\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Number\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_number\",\n        \"name\": \"0\"\n      }\n    ],\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Plus\",\n    \"message0\": \"%1 + %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Minus\",\n    \"message0\": \"%1 - %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Times\",\n    \"message0\": \"%1 * %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Divides\",\n    \"message0\": \"%1 / %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"DividesInt\",\n    \"message0\": \"%1 // %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Eq\",\n    \"message0\": \"%1 = %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Gt\",\n    \"message0\": \"%1 < %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Lt\",\n    \"message0\": \"%1 > %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Leq\",\n    \"message0\": \"%1 \\u2265 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Geq\",\n    \"message0\": \"%1 \\u2264 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Neq\",\n    \"message0\": \"%1 \\u2260 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"And\",\n    \"message0\": \"%1 and %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Or\",\n    \"message0\": \"%1 or %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Not\",\n    \"message0\": \"not %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  }\n];\n","import Blockly from '../blockly.js'\nimport './theme.js'\nimport {light as colors} from './colors'\nexport {default as blocks} from './blocks.js'\n\nexport const toolbox = {\n  xml: `<xml>\n    <category name=\"Program\" colour=\"${colors.program}\">\n      <block type=\"Program\"></block>\n    </category>\n    <category name=\"Logic\" colour=\"${colors.control}\">\n      <block type=\"If\"></block>\n      <block type=\"Elseif\"></block>\n      <block type=\"Else\"></block>\n      <block type=\"While\"></block>\n      <block type=\"And\"></block>\n      <block type=\"Or\"></block>\n      <block type=\"Not\"></block>\n    </category>\n    <category name=\"Console\" colour=\"${colors.io}\">\n      <block type=\"String\"></block>\n      <block type=\"Print\"></block>\n      <block type=\"Line\"></block>\n      <block type=\"Input\"></block>\n      <block type=\"Concat\"></block>\n    </category>\n    <category name=\"Variables\" custom=\"variables\" colour=\"${colors.variables}\">\n    </category>\n    <category name=\"Numbers\" colour=\"${colors.numbers}\">\n      <block type=\"Number\"></block>\n      <block type=\"Plus\"></block>\n      <block type=\"Minus\"></block>\n      <block type=\"Times\"></block>\n      <block type=\"Divides\"></block>\n      <block type=\"DividesInt\"></block>\n      <block type=\"Eq\"></block>\n      <block type=\"Neq\"></block>\n      <block type=\"Gt\"></block>\n      <block type=\"Geq\"></block>\n      <block type=\"Lt\"></block>\n      <block type=\"Leq\"></block>\n    </category>\n  </xml>`,\n\n  toolboxCategoryCallbacks: {\n    variables(workspace) {\n      var button = document.createElement('button');\n      button.setAttribute('text', 'Create variable...');\n      button.setAttribute('callbackKey', 'createVariable');\n\n      const xmls = [];\n      for (let variable of workspace.getVariablesOfType('Number')) {\n        // WARNING: no white space allowed in XML\n        xmls.push(`<xml><block type=\"Id\">${Blockly.Variables.generateVariableFieldXmlString(variable)}</block></xml>`);\n        xmls.push(`<xml><block type=\"Assignment\">${Blockly.Variables.generateVariableFieldXmlString(variable)}</block></xml>`);\n      }\n      return [button, ...xmls.map(x => Blockly.Xml.textToDom(x).firstChild)];\n    }\n  },\n\n  buttonCallbacks: {\n    createVariable(button) {\n      Blockly.Variables.createVariable(button.getTargetWorkspace(), null, 'Number');\n    },\n    center(button) {\n\n\n    }\n  }\n}\n\nexport const mode = {\n  start: [\n    {regex: /program\\b/, token: \"program\"},\n    {regex: /(?:if|else|while|and|or|not)\\b/, token: \"control\"},\n    {regex: /(?:print|input|line)\\b/, token: \"io\"},\n    {regex: /\"(?:[^\\\\]|\\\\.)*?(?:\"|$)/, token: \"string\"},\n    {regex: /[{(]/, indent: true},\n    {regex: /[})]/, dedent: true},\n    {regex: /[a-zA-Z]+[0-9]*/, token: \"variables\"},\n    {regex: /-?[0-9]+(\\.[0-9]+)?/, token: \"numbers\"},\n  ],\n  meta: {\n    electricChars: '}'\n  }\n}\n","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Link, Redirect} from \"react-router-dom\";\nimport injectSheet from 'react-jss';\nimport Home from './Home';\nimport TextEditor from './TextEditor.js';\nimport BlocklyEditor from './BlocklyEditor';\nimport SplitView from './SplitView';\nimport Console from './Console';\nimport SharedState from './SharedState';\nimport Task from './Task';\nimport Tabs from './Tabs';\nimport TabsHeader from './TabsHeader';\nimport Booklet from './Booklet';\nimport {blocks, toolbox, mode} from './lang/definitions.js';\nimport Blockly from './blockly';\nimport CodeMirror from './codeMirror';\nimport db from './db';\nimport config from './config';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    height: '100vh'\n  },\n  header: {\n    backgroundColor: '#f7f7f7',\n    borderBottom: '1px solid #ddd'\n  },\n  navigation: {\n    padding: '10px'\n  },\n  title: {\n    margin: '10px'\n  },\n  version: {\n    margin: '5px',\n    fontSize: '10px',\n  },\n  link: {\n    margin: '10px'\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: null\n    }\n  }\n\n  componentDidMount() {\n    document.title = config.name;\n  }\n\n  setUsername = username => {\n    this.setState({username})\n  }\n\n  render() {\n    Blockly.defineBlocksWithJsonArray(blocks); // TODO: Should this really be here? I doesn't work in componentDidMount (not called on refresh)\n    CodeMirror.defineSimpleMode('custom', mode);\n\n    const {classes} = this.props;\n    return (\n      <Router>\n        <div className={classes.container}>\n          <div className={classes.header}>\n            <nav className={classes.navigation}>\n              <span className={classes.title}>{config.name}<span className={classes.version}>{config.version}</span></span>\n              <Link className={classes.link} to=\"/\">Domov</Link>\n              <Link className={classes.link} to=\"/booklet\">Knjiga</Link>\n              <Link className={classes.link} to=\"/user\">Uporabnik</Link>\n              <Link className={classes.link} to=\"/playground1\">Bločno</Link>\n              <Link className={classes.link} to=\"/playground2\">Tekstovno</Link>\n              <Link className={classes.link} to=\"/exam\">Naloge</Link>\n              {this.state.username}\n            </nav>\n          </div>\n          <div style={{flex: '1 1 0', padding: '10px'}}>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/user\" component={() => <User setUsername={this.setUsername} />} />\n            <Route path=\"/booklet\" component={Booklet} />\n            <Route path=\"/playground1\" component={Playground1} />\n            <Route path=\"/playground2\" component={Playground2} />\n            <Route path=\"/exam\" component={Exam} />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst tasks = [\n  {\n    title: 'Naloga 1: Ogrevanje',\n    content: <div>\n      <p>Zapišite program, ki te pozdravi in izračuna naslednje račune:</p>\n\n      <pre>\n        788 + 15<br/>\n        98 - 45<br/>\n        12 * 13<br/>\n        22 / 12<br/>\n      </pre>\n\n      <pre>\n        Primer 1:<br/>\n        Zdravo!<br/>\n        803<br/>\n        53<br/>\n        156<br/>\n        1<br/>\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 2: Predhodnik/naslednik',\n    content: <div>\n        <p>Zapišite program, ki na vhodu prejme število in izpiše njegovega predhodnika in naslednika.</p>\n\n        <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n          <p>Namig:</p>\n          <p>Predhodnik je število, ki je za 1 manjše od izbranega števila.</p>\n          <p>Naslednik je število, ki je za 1 večje od izbranega števila.</p>\n        </div>\n\n        <pre>\n          Primer 1:<br/>\n          > 1<br/>\n          0<br/>\n          2<br/>\n        </pre>\n\n        <pre>\n          Primer 2:<br/>\n          > 6<br/>\n          5<br/>\n          7<br/>\n        </pre>\n      </div>\n  },\n  {\n    title: 'Naloga 3: Varno deljenje',\n    content: <div>\n      <p>Zapišite program, ki prejme dve števili in nad njima izvede varno deljene.</p>\n      <p>Pri matematiki, je deljenje z 0 nedefinirano, torej nam računalnik v tem primeru zato vrne napako.\n      Operacija varnega deljenja namesto napake vrne kar število 0.</p>\n\n      <pre>\n        Primer 1:<br/>\n        > 1<br/>\n        > 0<br/>\n        0<br/>\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 10<br/>\n        > 5<br/>\n        2<br/>\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 4: Zmnožek prvih n števil',\n    content: <div>\n      <p>Napišite program, ki na vhodu prejme poljubno število n in izračuna zmnožek vseh števil od 1 do n.</p>\n      <p>Dobljenemu številu v matematiki rečemo tudi fakulteta in ga zapišemo kot \"n!\".</p>\n      <p>V primeru, da uporabnik vnese število manjše ali enako 0 program ne vrne ničesar.</p>\n\n      <pre>\n        Primer 1:<br/>\n        > 0 <br />\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 4 <br />\n        24 <br />\n      </pre>\n\n      <pre>\n        Primer 3:<br/>\n        > 8 <br />\n        40320 <br />\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 5: Ugibanje kvadrata števila',\n    content: <div>\n      <p>Napišite interaktivni program za učenje kvadriranja števil. Program naj omogoča,\n      da najprej vnesete poljubno število nato pa vnesete še njegov kvadrat, nato pa program preveri ali ste kvadrat pravilno izračunali.\n      Program lahko zaključite tako, da ne vnesete dobenega števila (samo enter)</p>\n\n      <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n        <p>Namig:</p>\n        <p>Kvadrat števila lahko izračunate, da število pomnožite samo s sabo (x² = x * x)</p>\n      </div>\n\n      <pre>\n        Primer 1:<br />\n        > 10 <br />\n        > 100 <br />\n        Pravilno! <br />\n        > 5 <br />\n        > 25 <br />\n        Pravilno! <br />\n        > 2 <br />\n        > 1 <br />\n        Narobe! <br />\n        > Enter <br />\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 6: Fibonacci',\n    content: <div>\n      <p>Napišite program, ki bo izpisal zaporedje prvih n členov Fibonaccijevega zaporedja.</p>\n\n      <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n        <p>Namig:</p>\n        <p>Za rešitev te naloge boste potrebovali tri spremenljivke.</p>\n      </div>\n\n      <p>Zaporedje je podano z naslednjo enačbo:</p>\n      <pre>\n        f(0) = 0 <br />\n        f(1) = 1 <br />\n        f(n) = f(n - 1) + f(n - 2) <br />\n      </pre>\n      <p>Ta enačba nam pove, da n-ti člen v zaporedju izračunamo, kot vsoto prejšnjih dveh. Prva dva člena pa sta 0 in 1.</p>\n      <p>Izračun za prvih nekaj členov:</p>\n      <pre>\n        f(0) = 0 <br />\n        f(1) = 1 <br />\n        f(2) = 0 + 1 = 1 <br />\n        f(3) = 1 + 1 = 2 <br />\n        f(4) = 1 + 2 = 3 <br />\n        f(5) = 2 + 3 = 5 <br />\n        f(6) = 3 + 5 = 8 <br />\n        ...\n      </pre>\n\n      <pre>\n        Primer 1:<br/>\n        > 0 <br />\n        0 <br />\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 3 <br />\n        3 <br />\n      </pre>\n\n      <pre>\n        Primer 3:<br/>\n        > 6 <br />\n        8 <br />\n      </pre>\n    </div>\n  },\n]\n\n\n\nclass User extends Component {\n\n  onSignUp = async event => {\n    event.preventDefault();\n\n    const username = event.target.username.value;\n    const group = event.target.group.value;\n    const password = event.target.password.value;\n    await db.signUp(username, group, password);\n  }\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const username = event.target.username.value;\n    const password = event.target.password.value;\n    await db.signIn(username, password);\n    this.props.setUsername(username);\n  }\n\n  onClick = () => {\n    this.props.setUsername(null);\n  }\n\n  render() {\n    return (\n      <div>\n        <div>\n          <form style={{display: 'table', borderSpacing: 10, outline: '1px solid #ddd'}} onSubmit={this.onSignUp}>\n            <div style={{display: 'table-row'}}>\n              <label style={{display: 'table-cell'}}>Uporabniško ime:</label>\n              <input style={{display: 'table-cell'}} type=\"text\" name=\"username\" />\n            </div>\n            <div style={{display: 'table-row'}}>\n              <label style={{display: 'table-cell'}}>Skupina:</label>\n              <input style={{display: 'table-cell'}} type=\"text\" name=\"group\" />\n            </div>\n            <div style={{display: 'table-row'}}>\n              <label style={{display: 'table-cell'}}>Geslo:</label>\n              <input style={{display: 'table-cell'}} type=\"password\" name=\"password\" />\n            </div>\n            <input type='submit' value='Registracija' />\n          </form>\n        </div>\n        <div>\n          <form style={{display: 'table', borderSpacing: 10, outline: '1px solid #ddd'}} onSubmit={this.onSubmit}>\n            <div style={{display: 'table-row'}}>\n              <label style={{display: 'table-cell'}}>Uporabniško ime:</label>\n              <input style={{display: 'table-cell'}} type=\"text\" name=\"username\" />\n            </div>\n            <div style={{display: 'table-row'}}>\n              <label style={{display: 'table-cell'}}>Geslo:</label>\n              <input style={{display: 'table-cell'}} type=\"password\" name=\"password\" />\n            </div>\n            <input type='submit' value='Prijava' />\n            <button onClick={this.onClick}>Odjava</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Playground1 extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <SharedState name='playground1' task='playgroud' render={(sharedState, sharedStore) => (\n        <SplitView style={{}}>\n          <SplitView style={{flexDirection: 'column'}}>\n            <Console sharedState={sharedState} sharedStore={sharedStore} />\n          </SplitView>\n          <SplitView style={{flexDirection: 'column'}}>\n            <BlocklyEditor sharedState={sharedState} sharedStore={sharedStore} toolbox={toolbox} />\n            <TextEditor sharedState={sharedState} sharedStore={sharedStore} />\n          </SplitView>\n        </SplitView>\n      )} />\n    );\n  }\n}\n\nclass Playground2 extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <SharedState name='playground2' task='playground' render={(sharedState, sharedStore) => (\n        <SplitView style={{}}>\n          <SplitView style={{flexDirection: 'column'}}>\n            <Console sharedState={sharedState} sharedStore={sharedStore} task='playground' />\n          </SplitView>\n          <SplitView style={{flexDirection: 'column'}}>\n            <TextEditor sharedState={sharedState} sharedStore={sharedStore} />\n            <BlocklyEditor sharedState={sharedState} sharedStore={sharedStore} toolbox={toolbox} />\n          </SplitView>\n        </SplitView>\n      )} />\n    );\n  }\n}\n\nclass Exam extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <Tabs activeTab={1}>\n        {tasks.map((task, i) =>\n          <SharedState tabName={i + 1} name={task.title} task={task} render={(sharedState, sharedStore) => (\n            <SplitView style={{}}>\n              <SplitView style={{flexDirection: 'column'}}>\n                <div style={{display: 'flex', height: '100%', flexDirection: 'column'}}>\n                  <TabsHeader />\n                  <Task title={task.title} content={task.content} />\n                </div>\n                <Console sharedState={sharedState} sharedStore={sharedStore} task={task} />\n              </SplitView>\n              <SplitView style={{flexDirection: 'column'}}>\n                <TextEditor sharedState={sharedState} sharedStore={sharedStore} />\n                <BlocklyEditor sharedState={sharedState} sharedStore={sharedStore} toolbox={toolbox} />\n              </SplitView>\n            </SplitView>\n            )} />\n          )}\n      </Tabs>\n    );\n  }\n}\n\nexport default injectSheet(style)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}