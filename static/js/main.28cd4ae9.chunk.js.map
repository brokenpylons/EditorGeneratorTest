{"version":3,"sources":["codeMirror.js","refreshable.js","lang/parser.js","lang/prettyprinter.js","lang/colors.js","TextEditor.js","blockly.js","converter.js","BlocklyEditor.js","SplitView.js","evaluator.js","config.js","db.js","Console.js","SharedState.js","Task.js","TabsContext.js","Tabs.js","TabsHeader.js","jss.js","lang/theme.js","lang/blocks.js","lang/definitions.js","App.js","serviceWorker.js","index.js"],"names":["window","refreshable","WrappedComponent","_Component","_temp","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onBeforeUnload","setState","render","state","inherits","createClass","key","value","addEventListener","removeEventListener","react_default","a","createElement","Component","parser","ParseError","message","hash","_getPrototypeOf2","_len","arguments","length","params","Array","_key","apply","concat","assign","assertThisInitialized","Error","yy","parseError","light","TextEditor","editorChange","sharedState","editor","clearGutter","markers","forEach","x","clear","clearMessages","astChange","ast","parse","getValue","updateAst","e","symbol","loc","marker","markText","line","first_line","ch","first_column","last_line","last_column","className","classes","error","push","errorLine","clean","str","replace","token","expected","map","join","setGutterMarker","document","style","color","fontSize","lineHeight","innerHTML","title","makeMarker","off","setValue","prettyPrinter","print","on","container","React","createRef","PrettyPrinter","CodeMirror","defineSimpleMode","mode","current","lineNumbers","indentUnit","indentWithTabs","theme","gutters","setSize","refresh","sharedStore","get","set","ref","injectSheet","@global",".CodeMirror","position",".errors","width","height","borderBottom","Blockly","getAllItems","nextBlockIterator","zip","block","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","input","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","field","regenerator_default","wrap","_context","prev","next","undefined","inputList","Symbol","iterator","done","fieldRow","t0","return","finish","t1","stop","_marked","start","b","_context2","getNextBlock","_marked2","getBlockArguments","toConsumableArray","filter","item","name","moveTo","y","getRelativeToSurfaceXY","moveBy","args","iterators","_args3","_context3","some","abrupt","_marked3","isValue","isCommand","isArray","isList","formatBlocks","blocks","padding","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","err","BlocklyEditor","onWheel","scrollbar","workspace","vScroll","handlePosition_","ratio_","deltaY","workspaceChange","event","type","Events","BLOCK_CREATE","BLOCK_CHANGE","BLOCK_DELETE","BLOCK_MOVE","getProgramBlocks","generate","astArgs","blockArg","constructor","FieldLabel","FieldTextInput","FieldNumber","FieldVariable","getText","Input","target","connection","targetBlock","INPUT_VALUE","NEXT_STATEMENT","disable","dispose","setResizesEnabled","_ast","toArray","c","slice","newBlock","blockArgs","initSvg","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_ref3","_ref2","slicedToArray","astArg","variable","createVariable","getId","child","connect","outputConnection","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","previousConnection","nextConnection","load","enable","defineBlocksWithJsonArray","getTopBlocks","_this2","inject","toolbox","xml","trashcan","scrollbars","collapse","zoom","controls","startScale","maxScale","minScale","scaleSpeed","_arr","entries","toolboxCategoryCallbacks","_i","_ref5","callback","registerToolboxCategoryCallback","_arr2","buttonCallbacks","_i2","_ref6","_ref4","registerButtonCallback","configureContextMenu","menuOptions","text","enabled","dom","Xml","textToDom","domToWorkspace","addChangeListener","workspaceToDom","domToText",".blocklyMainBackground","strokeWidth",".blocklyToolboxDiv","backgroundColor","outline","SplitView","Children","children","display","flex","zIndex","SemanticError","descent","_callee11","ctx","previous","_context11","table","sent","iterate","_callee12","_context12","binaryOperator","fun","_ref","asyncToGenerator","mark","_callee","_args","t2","t3","_x6","_x7","Program","_Program","_callee3","_args5","stmts","variables","_x10","_x11","If","_If","_callee4","_args7","expr","_context4","defineProperty","_x12","_x13","Elseif","_Elseif","_callee5","_args9","_context5","_x14","_x15","_x16","Else","_Else","_callee6","_args11","_context6","_x17","_x18","_x19","While","_While","_callee7","_args13","i","_context7","_x20","_x21","And","Or","Not","_callee2","_x8","_x9","String","Print","_Print","_callee8","_args16","_context8","_x22","_x23","Line","_Input","_callee9","_context9","_x24","Concat","toString","Id","id","Assignment","_Assignment","_callee10","_args20","_context10","_x25","_x26","Number","parseInt","Plus","Minus","Divides","Math","trunc","Times","Eq","Neq","Gt","Geq","Lt","Leq","evaluate","_callee13","node","_context13","config","packageJson","group","version","url","dbname","auth","Promise","resolve","reject","fetch","method","headers","Authorization","Content-Type","then","response","catch","db","tryAccess","storeAst","user","task","action","body","JSON","stringify","timestamp","Date","now","tabSwitch","tabName","flexDirection","toolbar","paddingLeft","& button","all","&:hover","console","overflow","margin","fontFamily","colors","border","onBlur","contentEditable","focus","Fragment","Console","messagesChange","messages","onRun","prevState","output","onEnter","persist","textContent","preventDefault","isFinite","_x","Console_Input","onKeyPress","localStorage","getItem","onClick","State","listeners","dispatchEvent","source","log","Store","storeKey","setItem","getCombinedKey","SharedState","store","Task","content","fontWeight","marginTop","marginBottom","TabsContext","createContext","tabNames","setActiveTab","Tabs","activeTab","Provider","tab","TabsHeader","Consumer","jss","setup","preset",".cm-s-custom span.cm-program",".cm-s-custom span.cm-control",".cm-s-custom span.cm-io",".cm-s-custom span.cm-string",".cm-s-custom span.cm-variables",".cm-s-custom span.cm-numbers","createStyleSheet","attach","lang_blocks","message0","message1","args1","check","colour","args0","previousStatement","nextStatement","inputsInline","button","setAttribute","xmls","getVariablesOfType","Variables","generateVariableFieldXmlString","firstChild","getTargetWorkspace","center","regex","indent","dedent","meta","electricChars","App","setUsername","username","BrowserRouter","header","navigation","Link","link","to","Route","exact","path","component","Home","App_User","Playground1","Playground2","Exam","tasks","User","onSubmit","_event$target","password","btoa","_this3","removeItem","borderSpacing","src_SharedState","src_SplitView","src_Console","src_BlocklyEditor","src_TextEditor","src_Tabs","src_TabsHeader","src_Task","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.28cd4ae9.chunk.js","sourcesContent":["export default window.CodeMirror\n","import React, {Component} from 'react';\n\nexport default function refreshable(WrappedComponent) {\n\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        render: true\n      }\n    }\n\n    onBeforeUnload = () => {\n      this.setState({render: false});\n    }\n\n    componentDidMount() {\n      window.addEventListener('beforeunload', this.onBeforeUnload);\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('beforeunload', this.onBeforeUnload);\n    }\n\n    render() {\n      return this.state.render && <WrappedComponent {...this.props} />\n    }\n  };\n}\n","const parser = window.parser;\n\nclass ParseError extends Error {\n  constructor(message, hash, ...params) {\n    super(...params);\n    this.message = message;\n    Object.assign(this, hash);\n  }\n}\n\nparser.yy.parseError = function(message, hash) {\n  throw new ParseError(message, hash);\n}\n\nexport default parser;\nexport {ParseError};\n","export default window.PrettyPrinter;\n","/*export const light = {\n  green: \"#00b774\",\n  blue: \"#24a7ff\",\n  yellow: \"#e7c500\",\n  red: \"#ff7194\",\n  orange: \"#ff7576\" // 28, 100, 70\n};*/\n\n/*export const light = {\n  green: \"#385a7c\",\n  blue: \"#008db9\",\n  yellow: \"#e8606a\",\n  red: \"#75e561\",\n  orange: \"#e5e561\"\n};*/\n\nexport const light = {\n  program: \"#005071\",\n  control: \"#279899\",\n  variables: \"#41b6e6\",\n  io: \"#ff585d\",\n  numbers: \"#ffb549\",\n  bool: \"#ff5a49\"\n};\n\n\n","import React, { Component } from 'react';\nimport CodeMirror from './codeMirror';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport parser, {ParseError} from './lang/parser';\nimport PrettyPrinter from './lang/prettyprinter';\nimport {light as colors} from './lang/colors';\n\nconst style = {\n  '@global': {\n    '.CodeMirror': {\n      position: 'absolute',\n    },\n    '.errors': {\n      width: 15,\n    }\n  },\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n  error: {\n    borderBottom: '2px solid red'\n  },\n\n  errorLine: {\n    color: 'red'\n  },\n}\n\nclass TextEditor extends Component {\n\n  constructor(props) {\n    super(props);\n    this.container = React.createRef();\n    this.editor = null;\n    this.prettyPrinter = new PrettyPrinter();\n    this.markers = [];\n  }\n\n  editorChange = () => {\n    const {sharedState} = this.props;\n    try {\n      this.editor.clearGutter('errors');\n      this.markers.forEach(x => x.clear());\n      this.markers = [];\n      \n      sharedState.clearMessages();\n      sharedState.removeEventListener('ast', this.astChange);\n      const ast = parser.parse(this.editor.getValue());\n      sharedState.updateAst(ast, 'text');\n      sharedState.addEventListener('ast', this.astChange);\n    } catch(e) {\n      if (e instanceof ParseError) {\n\n        let symbol, message;\n        if (e.loc != null) {\n          const marker = this.editor.markText(\n            {line: e.loc.first_line - 1, ch: e.loc.first_column},\n            {line: e.loc.last_line - 1, ch: e.loc.last_column },\n            {className: this.props.classes.error});\n          this.markers.push(marker);\n          this.errorLine = e.loc.first_line - 1;\n          symbol = '\\u2738';\n\n          const clean = (str) => '\"' + str.replace(/[_']/g, '') + '\"';\n          message = `dobil sem ${clean(e.token)}, pričakoval sem ${e.expected.map(clean).join(', ')}`;\n        } else {\n          this.errorLine = e.line;\n          symbol = '\\u25B4';\n          message = 'neznani simbol'\n        }\n\n        const makeMarker = () => {\n          var marker = document.createElement(\"div\");\n          marker.style.color = 'red';\n          marker.style.fontSize = '20px';\n          marker.style.lineHeight = '13px';\n          marker.innerHTML = symbol;\n          marker.title = message;\n          return marker;\n        }\n        this.editor.setGutterMarker(this.errorLine, \"errors\", makeMarker());\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  astChange = (ast) => {\n    this.editor.off('change', this.editorChange);\n    this.editor.setValue(this.prettyPrinter.print(ast));\n    this.editor.on('change', this.editorChange);\n  }\n\n  componentDidMount() {\n    CodeMirror.defineSimpleMode('custom', this.props.mode);\n    this.editor = CodeMirror(this.container.current, {\n      lineNumbers: true,\n      indentUnit: 4,\n      indentWithTabs: true,\n      mode: 'custom',\n      theme: 'custom',\n      gutters: ['CodeMirror-linenumbers', 'errors']\n    });\n    this.editor.setSize('100%', '100%');\n    this.editor.refresh();\n    const value = this.props.sharedStore.get('TextEditor');\n    if (value != null) {\n      this.editor.setValue(value);\n    }\n    this.editor.on(\"change\", this.editorChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    this.props.sharedStore.set('TextEditor', this.editor.getValue());\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n        <div className={classes.container} ref={this.container} />\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(TextEditor));\n","const Blockly = window.Blockly;\n\nexport default Blockly;\n","import Blockly from './blockly'\n\nfunction* getAllItems(block) {\n  for (let input of block.inputList) {\n    for (let field of input.fieldRow) {\n      yield field;\n    }\n    yield input;\n  }\n}\n\nfunction* nextBlockIterator(start) {\n  for (let b = start; b != null; b = b.getNextBlock()) {\n    yield b;\n  }\n}\n\nfunction getBlockArguments(block) {\n  return [...getAllItems(block)].filter(item => item.name);\n}\n\nfunction moveTo(block, x, y) {\n  const current = block.getRelativeToSurfaceXY();\n  block.moveBy(x - current.x , y - current.y);\n}\n\nfunction* zip(...args) {\n  const iterators = args.map(x => x[Symbol.iterator]());\n  while (true) {\n    const current = iterators.map(x => x.next());\n    if (current.some(x => x.done)) {\n      break;\n    }\n    yield current.map(x => x.value);\n  }\n}\n\nfunction isValue(ast) {\n  return typeof ast === 'string';\n}\n\nfunction isCommand(ast) {\n  return Array.isArray(ast) && typeof ast[0] === 'string';\n}\n\nfunction isList(ast) {\n  return Array.isArray(ast) && typeof ast[0] !== 'string';\n}\n\nfunction load(workspace, ast) {\n  function generate(ast) {\n    let [c, ...astArgs] = ast;\n\n    const block = workspace.newBlock(c);\n    const blockArgs = getBlockArguments(block);\n    block.initSvg();\n    block.render();\n\n    for (let [blockArg, astArg] of zip(blockArgs, astArgs)) {\n      if (isValue(astArg)) {\n        if (blockArg instanceof Blockly.FieldVariable) {\n          const variable = workspace.createVariable(astArg, 'Number');\n          blockArg.setValue(variable.getId());\n        } else {\n          blockArg.setValue(astArg);\n        }\n      } else if (isCommand(astArg)) {\n        const child = generate(astArg);\n        blockArg.connection.connect(child.outputConnection);\n      } else if (isList(astArg)) {\n        let connection = blockArg.connection;\n        for (let item of astArg) {\n          const child = generate(item);\n          connection.connect(child.previousConnection);\n          connection = child.nextConnection;\n        }\n      }\n    }\n    return block;\n  }\n\n  if (ast == null) {\n    return null;\n  }\n\n  workspace.setResizesEnabled(false);\n  const blocks = ast.map(generate);\n  workspace.setResizesEnabled(true);\n  return blocks;\n}\n\nfunction save(blocks) {\n  function generate(block) {\n    if (block == null) {\n      throw Error(\"XXX\");\n    }\n\n    let astArgs = getBlockArguments(block).map(blockArg => {\n      switch (blockArg.constructor) {\n        case Blockly.FieldLabel:\n          return;\n        case Blockly.FieldTextInput:\n        case Blockly.FieldNumber:\n        case Blockly.FieldVariable:\n          return blockArg.getText();\n        case Blockly.Input: {\n          const target = blockArg.connection.targetBlock();\n          switch (blockArg.type) {\n            case Blockly.INPUT_VALUE:\n              return generate(target);\n            case Blockly.NEXT_STATEMENT:\n              return [...nextBlockIterator(target)].map((blockArg) => generate(blockArg));\n          }\n        }\n          throw new Error('Unexpected block argument type');\n      }\n    });\n    return [block.type, ...astArgs];\n  }\n  return blocks.map(generate);\n}\n\nfunction formatBlocks(blocks, padding = 2) {\n  let position = 0;\n  for (let block of blocks) {\n    moveTo(block, 0, position);\n    position += block.height + padding;\n  }\n}\n\nexport {save, load, formatBlocks};\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport Blockly from './blockly';\nimport {save, load, formatBlocks} from './converter';\n\nconst style = {\n  '@global': {\n    '.blocklyMainBackground': {\n      strokeWidth: 0\n    },\n    '.blocklyToolboxDiv': {\n      backgroundColor: '#f7f7f7',\n      outline: '1px solid #ddd'\n    }\n  }\n};\n\nclass BlocklyEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.editor = React.createRef();\n    this.workspace = null;\n\n    Blockly.defineBlocksWithJsonArray(this.props.blocks);\n  }\n\n  onWheel = (e) => {\n    const scrollbar = this.workspace.scrollbar.vScroll;\n    scrollbar.set((scrollbar.handlePosition_ / scrollbar.ratio_) + e.deltaY);\n  }\n\n  getProgramBlocks() {\n    return this.workspace.getTopBlocks(true).filter(x => x.type === 'Program'); // TODO: Solve coupling\n  }\n\n  workspaceChange = event => {\n    if (event.type === Blockly.Events.BLOCK_CREATE ||\n      event.type === Blockly.Events.BLOCK_CHANGE ||\n      event.type === Blockly.Events.BLOCK_DELETE ||\n      event.type === Blockly.Events.BLOCK_MOVE) {\n\n      const {sharedState} = this.props;\n      try {\n        sharedState.clearMessages();\n        sharedState.removeEventListener('ast', this.astChange);\n        sharedState.updateAst(save(this.getProgramBlocks()), 'blocks');\n        sharedState.addEventListener('ast', this.astChange);\n      } catch(e) {\n        // TODO: bettter solution?\n      }\n    }\n  }\n\n  astChange = ast => {\n      Blockly.Events.disable();\n      this.getProgramBlocks().forEach(x => x.dispose());\n      const blocks = load(this.workspace, ast);\n      if (blocks != null) {\n        formatBlocks(blocks, 22);\n      }\n      Blockly.Events.enable();\n  }\n\n  componentDidMount() {\n    this.workspace = Blockly.inject(this.editor.current, {\n        toolbox: this.props.toolbox.xml,\n        trashcan: true,\n        scrollbars: true,\n        collapse: true,\n        zoom: {\n          controls: true,\n          startScale: 1.0,\n          maxScale: 3,\n          minScale: 0.3,\n          scaleSpeed: 1.2\n        },\n    });\n    for (let [key, callback] of Object.entries(this.props.toolbox.toolboxCategoryCallbacks)) {\n      this.workspace.registerToolboxCategoryCallback(key, callback);\n    }\n    for (let [key, callback] of Object.entries(this.props.toolbox.buttonCallbacks)) {\n      this.workspace.registerButtonCallback(key, callback);\n    }\n    this.workspace.configureContextMenu = menuOptions => {\n      menuOptions.push({\n        text: 'Format',\n        enabled: true,\n        callback: () => {\n          formatBlocks(this.getProgramBlocks(), 22);\n        }\n      })\n    }\n\n    const xml = this.props.sharedStore.get('BlocklyEditor');\n    if (xml != null) {\n      const dom = Blockly.Xml.textToDom(xml);\n      Blockly.Events.disable();\n      Blockly.Xml.domToWorkspace(dom, this.workspace);\n      Blockly.Events.enable();\n    }\n    this.workspace.addChangeListener(this.workspaceChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    const dom = Blockly.Xml.workspaceToDom(this.workspace);\n    const xml = Blockly.Xml.domToText(dom);\n\n    this.props.sharedStore.set('BlocklyEditor', xml);\n  }\n\n  render() {\n    return (\n      <div style={{width: '100%', height: '100%'}} ref={this.editor} onWheel={this.onWheel} />\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(BlocklyEditor));\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\n\nconst style = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n  child: {\n    flex: '1 1 0',\n    position: 'relative',\n    outline: '1px solid gainsboro',\n    zIndex: 100\n  }\n};\n\nclass SplitView extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <div {...this.props} className={classes.container}>\n        {React.Children.map(this.props.children, child =>\n          <div className={classes.child}>\n            {child}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(SplitView);\n","import {isValue, isCommand, isList} from './ast';\n\nclass SemanticError extends Error {}\n\nasync function descent(ctx, ast, previous) {\n  const [c, ...args] = ast;\n  return await table[c](ctx, args, previous);\n}\n\nasync function iterate(ctx, a) {\n  let previous;\n  for (let x of a) {\n    previous = await descent(ctx, x, previous);\n  }\n}\n\nfunction binaryOperator(fun) {\n  return async (ctx, args) => {\n    const [a, b] = args;\n    return fun(await descent(ctx, a), await descent(ctx, b), ctx);\n  }\n}\n\nfunction unaryOperator(fun) {\n  return async (ctx, args) => {\n    const [a] = args;\n    return fun(await descent(ctx, a));\n  }\n}\n\nconst next = Symbol('next');\n\nconst table = {\n  Program: async function(ctx, args) {\n    const [stmts] = args;\n    ctx.variables = {};\n    await iterate(ctx, stmts);\n  },\n\n  If: async function(ctx, args) {\n    const [expr, stmts] = args;\n    if (await descent(ctx, expr)) {\n      await iterate(ctx, stmts);\n      return {[next]: false};\n    }\n    return {[next]: true};\n  },\n\n  Elseif: async function(ctx, args, previous) {\n    if (previous == null || previous[next] == null) {\n      throw new SemanticError(\"Semantic error\")\n    }\n\n    const [expr, stmts] = args;\n    if (!previous[next]) {\n      return {[next]: false};\n    }\n\n    if (await descent(ctx, expr)) {\n      await iterate(ctx, stmts);\n      return {[next]: false};\n    }\n    return {[next]: true};\n  },\n\n  Else: async function(ctx, args, previous) {\n    if (previous == null || previous[next] == null) {\n      throw new SemanticError(\"Semantic error\")\n    }\n\n    if (!previous[next]) {\n      return;\n    }\n\n    const [stmts] = args;\n    await iterate(ctx, stmts);\n  },\n\n  While: async function(ctx, args) {\n    const [expr, stmts] = args;\n    for (let i = 0; i < 100 && await descent(ctx, expr); i++) {\n      await iterate(ctx, stmts);\n    }\n  },\n\n  And: binaryOperator((a, b) => a && b),\n  Or: binaryOperator((a, b) => a || b),\n  Not: unaryOperator((a) => !a),\n\n  String: function(ctx, args) {\n      const [string] = args;\n      return string;\n  },\n\n  Print: async function(ctx, args) {\n    const [expr] = args;\n    ctx.print(await descent(ctx, expr));\n  },\n\n  Line: function(ctx) {\n      return '\\n';\n  },\n\n  Input: async function(ctx) {\n    return await ctx.input();\n  },\n\n  Concat: binaryOperator((a, b) => a.toString() + b.toString()),\n\n  Id: function(ctx, args) {\n    const [id] = args;\n    return ctx.variables[id];\n  },\n\n  Assignment: async function(ctx, args) {\n    const [id, expr] = args;\n    ctx.variables[id] = await descent(ctx, expr);\n  },\n\n  Number: function(ctx, args) {\n    return parseInt(args, 10);\n  },\n\n  Plus: binaryOperator((a, b) => a + b),\n  Minus: binaryOperator((a, b) => a - b),\n  Divides: binaryOperator((a, b, ctx) => {\n    if (a == 0 && b == 0) {\n      ctx.error(\"Nedoločeno\");\n      throw 0;\n    }\n    if (b == 0) {\n      ctx.error(\"Nedefinirano\");\n      throw 0;\n    }\n    return Math.trunc(a / b);\n  }),\n  Times: binaryOperator((a, b) => a * b),\n  Eq: binaryOperator((a, b) => a === b),\n  Neq: binaryOperator((a, b) => a !== b),\n  Gt: binaryOperator((a, b) => a < b),\n  Geq: binaryOperator((a, b) => a <= b),\n  Lt: binaryOperator((a, b) => a > b),\n  Leq: binaryOperator((a, b) => a >= b)\n}\n\nasync function evaluate(ast, print, input, error) {\n  try {\n    for (let node of ast) {\n      await descent({print, input, error}, node);\n    }\n  } catch(e) {\n    if (e instanceof SemanticError) {\n      print(\"ERROR\");\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport {evaluate};\n","import packageJson from '../package.json';\n\nexport default {\n  name: packageJson.name,\n  group: 'block-text',\n  version: packageJson.version\n}\n","import config from './config';\n\nconst url = 'http://164.8.230.207:5984/'\nconst dbname = 'editorgenerator2'\n\nasync function tryAccess(auth) {\n  return new Promise((resolve, reject) => {\n    fetch(`${url}${dbname}`, {\n      method: 'HEAD',\n      headers: {\n        'Authorization': `Basic ${auth}`,\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(response => {\n      resolve(true);\n    }).catch(error => {\n      resolve(false);\n    });\n  });\n}\n\nfunction storeAst(auth, user, task, action, ast) {\n  fetch(`${url}${dbname}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      timestamp: Date.now(),\n      group: config.group,\n      version: config.version,\n      user,\n      task,\n      action,\n      ast,\n    }),\n    headers: {\n      'Authorization': `Basic ${auth}`,\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nfunction tabSwitch(auth, user, tabName) {\n  fetch(`${url}${dbname}`, {\n    method: 'POST',\n    body: JSON.stringify({\n      timestamp: Date.now(),\n      group: config.group,\n      version: config.version,\n      user,\n      tabName,\n    }),\n    headers: {\n      'Authorization': `Basic ${auth}`,\n      'Content-Type': 'application/json'\n    }\n  });\n}\n\nexport default {\n  tryAccess,\n  storeAst,\n  tabSwitch\n}\n","import React, { Component } from 'react';\nimport injectSheet from 'react-jss';\nimport refreshable from './refreshable';\nimport {evaluate} from './evaluator';\nimport {light as colors} from './lang/colors';\nimport db from './db';\n\nconst style = {\n  container: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: 'white'\n  },\n  toolbar: {\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 5,\n    outline: '1px solid #ddd',\n    '& button': {\n      all: 'unset',\n      padding: '5px 10px',\n      '&:hover': {\n        backgroundColor: 'gainsboro'\n      }\n    }\n  },\n  console: {\n    flex: '1 1 0',\n    overflow: 'auto',\n    margin: 0,\n    padding: 5,\n    fontFamily: 'Source Code Pro, monospace',\n    fontSize: '13px'\n  },\n  error: {\n    color: colors.io\n  },\n  input: {\n    border: '1px solid transparent',\n    '&:hover': {\n      backgroundColor: 'whitesmoke',\n      border: '1px solid gray'\n    }\n  }\n}\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n    this.input = React.createRef();\n  }\n\n  componentDidMount() {\n    this.input.current.focus();\n  }\n\n  onBlur = () => {\n    if (this.input.current.contentEditable) {\n      this.input.current.focus();\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <span {...this.props} ref={this.input} onBlur={this.onBlur} contentEditable='true' style={{display: 'inline-block'}} />\n        <br />\n      </React.Fragment>\n    );\n  }\n}\n\nclass Console extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.ast = [];\n    this.state = {\n      messages: [],\n      output: []\n    }\n  }\n\n  messagesChange = (messages) => {\n    this.setState({messages})\n  }\n\n  astChange = (ast) => {\n    this.ast = ast;\n  }\n\n  onRun = async () => {\n    const {classes} = this.props;\n\n    const print = (message) => {\n      this.setState(prevState => {\n        return {output: prevState.output.concat([\n          <span className={classes.input}>{message}</span>\n        ])};\n      });\n    }\n\n    const error = message => {\n      this.setState(prevState => {\n        return {output: prevState.output.concat([\n          <div className={classes.error}>{message}</div>\n        ])};\n      });\n    }\n\n    const input = async () => {\n      return new Promise((resolve, reject) => {\n        const onEnter = async event => {\n          event.persist();\n          if (event.key === 'Enter') {\n            const text = event.target.textContent;\n            if (text !== '') {\n              resolve(Number(text));\n            } else {\n              error(\"Konec\");\n              reject();\n            }\n            event.target.contentEditable = false;\n            event.preventDefault();\n            return;\n          }\n          if (!isFinite(event.key)) {\n            event.preventDefault();\n            return;\n          }\n        }\n\n        this.setState(prevState => {\n          return {output: prevState.output.concat([\n            <Input className={classes.input} onKeyPress={onEnter} />\n          ])};\n        });\n      });\n    }\n\n    this.setState({output: []}, () => {\n      db.storeAst(localStorage.getItem('Auth'), localStorage.getItem('Username'), this.props.task, 'run', this.ast);\n      evaluate(this.ast, print, input, error);\n    });\n  }\n\n  componentDidMount() {\n    const messages = JSON.parse(this.props.sharedStore.get('ConsoleMessages')) || this.state.messages;\n    this.setState({messages});\n    this.ast = JSON.parse(this.props.sharedStore.get('ConsoleAst')) || this.ast;\n\n    this.props.sharedState.addEventListener('messages', this.messagesChange);\n    this.props.sharedState.addEventListener('ast', this.astChange);\n  }\n\n  componentWillUnmount() {\n    this.props.sharedStore.set('ConsoleMessages', JSON.stringify(this.state.messages));\n    this.props.sharedStore.set('ConsoleAst', JSON.stringify(this.ast));\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container}>\n        <div className={classes.toolbar}>\n          <button onClick={this.onRun}>Run</button>\n        </div>\n        <pre className={classes.console}>\n          {this.state.messages.map((x, i) =>\n            <div key={i} className={classes[x.type]}>{x.message}</div>\n          )}\n          {this.state.output}\n        </pre>\n      </div>\n    );\n  }\n}\n\nexport default refreshable(injectSheet(style)(Console));\n","import React, { Component } from 'react';\nimport db from './db';\n\nclass State {\n  constructor(task) {\n    this.task = task;\n    this.ast = null;\n    this.messages = [];\n    this.listeners ={};\n  }\n\n  addMessage(message) {\n    this.messages.push(message);\n    this.dispatchEvent('messages', this.messages);\n  }\n\n  clearMessages() {\n    this.messages = [];\n    this.dispatchEvent('messages', this.messages);\n  }\n\n  updateAst(ast, source) {\n    if (JSON.stringify(this.ast) === JSON.stringify(ast)) {\n      console.log(\"SAME\");\n      return;\n    }\n    console.log(source);\n    this.ast = ast;\n    this.dispatchEvent('ast', this.ast);\n    db.storeAst(localStorage.getItem('Auth'), localStorage.getItem('Username'), this.task, source, ast); // TODO: Should state know about task?\n  }\n\n  addEventListener(event, callback) {\n    if (event in this.listeners) {\n      this.listeners[event].push(callback);\n    } else {\n      this.listeners[event] = [callback];\n    }\n  }\n\n  removeEventListener(event, callback) {\n    this.listeners[event] = this.listeners[event].filter(x => x != callback);\n  }\n\n  dispatchEvent(event, ...args) {\n    if (!(event in this.listeners)) {\n      return;\n    }\n    this.listeners[event].forEach(x => x(...args));\n  }\n}\n\nclass Store {\n  constructor(storeKey) {\n    this.storeKey = storeKey;\n  }\n\n  getCombinedKey(key) {\n    return `[${this.storeKey}$${key}]`\n  }\n\n  set(key, value) {\n    localStorage.setItem(this.getCombinedKey(key), value);\n  }\n\n  get(key) {\n    return localStorage.getItem(this.getCombinedKey(key));\n  }\n}\n\nclass SharedState extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = new State(this.props.task);\n    this.store = new Store(this.props.name);\n  }\n\n  render() {\n    return (\n      <React.Fragment>{this.props.render(this.state, this.store)}</React.Fragment>\n    );\n  }\n}\n\nexport default SharedState;\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\n\nconst style = {\n  container: {\n    flex: '1 1 0',\n    height: '100px',\n    backgroundColor: 'white',\n    overflow: 'auto',\n    padding: 5\n  },\n  title: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    marginTop: 10,\n    marginBottom: 10\n  }\n}\n\nclass Task extends Component {\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.title}>{this.props.title}</div>\n        {this.props.content}\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Task);\n","import React from 'react';\n\nexport const TabsContext = React.createContext({\n  tabNames: [],\n  setActiveTab: () => {}\n});\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\nimport {TabsContext} from './TabsContext'\nimport db from './db';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    height: '100%'\n  },\n  tab: {\n    flex: '1 1 0'\n  }\n}\n\nclass Tabs extends Component { // Make observable\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeTab: this.props.activeTab,\n      tabNames: [],\n      setActiveTab: this.setActiveTab\n    }\n  }\n\n  componentDidMount() {\n    this.setState({tabNames: React.Children.map(this.props.children, child => child.props.tabName)})\n  }\n\n  setActiveTab = tabName => {\n    db.tabSwitch(localStorage.getItem('Auth'), localStorage.getItem('Username'), tabName);\n    this.setState({activeTab: tabName});\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <div className={classes.container}>\n        <TabsContext.Provider value={this.state}>\n          {React.Children.map(this.props.children, child =>\n            child.props.tabName === this.state.activeTab && <div className={classes.tab}>{child}</div>\n          )}\n        </TabsContext.Provider>\n      </div>\n    );\n  }\n}\n\nexport default injectSheet(style)(Tabs);\n","import React, {Component} from 'react';\nimport injectSheet from 'react-jss';\nimport {TabsContext} from './TabsContext'\n\nconst style = {\n  toolbar: { // TODO: duplicated in console\n    backgroundColor: '#f7f7f7',\n    paddingLeft: 5,\n    outline: '1px solid #ddd',\n    borderBottom: '1px solid #ddd',\n    '& button': {\n      all: 'unset',\n      padding: '5px 10px',\n      '&:hover': {\n        backgroundColor: 'gainsboro'\n      }\n    }\n  },\n}\n\nclass TabsHeader extends Component {\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <TabsContext.Consumer>\n        {({tabNames, setActiveTab}) => (\n          <div className={classes.toolbar}>\n            {tabNames.map(tabName =>\n              <button onClick={() => setActiveTab(tabName)}>{tabName}</button>\n            )}\n          </div>\n        )}\n      </TabsContext.Consumer>\n    );\n  }\n}\n\nexport default injectSheet(style)(TabsHeader);\n","import jss from 'jss'\nimport preset from 'jss-preset-default'\n\njss.setup(preset());\n\nexport default jss;\n","import jss from '../jss'\nimport {light as colors} from './colors'\n\nconst style = {\n  '@global': {\n    '.CodeMirror': {\n      fontFamily: 'Source Code Pro, monospace',\n      fontSize: '13px',\n    },\n    '.cm-s-custom span.cm-program': { \n      color: colors.program,\n      fontWeight: 700\n    },\n    '.cm-s-custom span.cm-control': {\n      color: colors.control,\n      fontWeight: 600\n    },\n    '.cm-s-custom span.cm-io': {\n      color: colors.io,\n      fontWeight: 600\n    },\n    '.cm-s-custom span.cm-string': {\n      color: colors.io,\n    },\n    '.cm-s-custom span.cm-variables': {\n      color: colors.variables\n    },\n    '.cm-s-custom span.cm-numbers': {\n      color: colors.numbers\n    },\n  }\n};\n\njss.createStyleSheet(style).attach();\n","import {light as colors} from './colors'\n\nexport default [\n  {\n    \"type\": \"Program\",\n    \"message0\": \"program\",\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"0\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"colour\": colors.program\n  },\n  {\n    \"type\": \"If\",\n    \"message0\": \"if %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": [\"If\", \"Any\"],\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Elseif\",\n    \"message0\": \"else if %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"If\",\n    \"nextStatement\": [\"If\", \"Any\"],\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Else\",\n    \"message0\": \"else\",\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"0\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"If\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"While\",\n    \"message0\": \"while %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"message1\": \"%1\",\n    \"args1\": [\n      {\n        \"type\": \"input_statement\",\n        \"name\": \"1\",\n        \"check\": \"Any\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Assignment\",\n    \"message0\": \"set %1 %2\",\n    \"args0\": [\n      {\n        \"type\": \"field_variable\",\n        \"name\": \"VAR\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.variables\n  },\n  {\n    \"type\": \"Id\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_variable\",\n        \"name\": \"VAR\"\n      }\n    ],\n    \"output\": \"Number\",\n    \"colour\": colors.variables\n  },\n  {\n    \"type\": \"Print\",\n    \"message0\": \"print %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": [\"String\", \"Number\"]\n      }\n    ],\n    \"previousStatement\": \"Any\",\n    \"nextStatement\": \"Any\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"String\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_input\",\n        \"text\": \"\",\n        \"name\": \"0\"\n      }\n    ],\n    \"output\": \"String\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Concat\",\n    \"message0\": \"%1 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"check\": [\"String\", \"Number\"],\n        \"name\": \"0\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"check\": [\"String\", \"Number\"],\n        \"name\": \"1\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"String\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Input\",\n    \"message0\": \"input\",\n    \"output\": \"Number\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Line\",\n    \"message0\": \"line\",\n    \"output\": \"Number\",\n    \"colour\": colors.io\n  },\n  {\n    \"type\": \"Number\",\n    \"message0\": \"%1\",\n    \"args0\": [\n      {\n        \"type\": \"field_number\",\n        \"name\": \"0\"\n      }\n    ],\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Plus\",\n    \"message0\": \"%1 + %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Minus\",\n    \"message0\": \"%1 - %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Times\",\n    \"message0\": \"%1 * %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Divides\",\n    \"message0\": \"%1 / %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Eq\",\n    \"message0\": \"%1 = %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Gt\",\n    \"message0\": \"%1 < %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Lt\",\n    \"message0\": \"%1 > %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Leq\",\n    \"message0\": \"%1 \\u2265 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Geq\",\n    \"message0\": \"%1 \\u2264 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"Neq\",\n    \"message0\": \"%1 \\u2260 %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.numbers\n  },\n  {\n    \"type\": \"And\",\n    \"message0\": \"%1 and %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Or\",\n    \"message0\": \"%1 or %2\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"1\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  },\n  {\n    \"type\": \"Not\",\n    \"message0\": \"not %1\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"0\",\n        \"check\": \"Number\"\n      }\n    ],\n    \"inputsInline\": true,\n    \"output\": \"Number\",\n    \"colour\": colors.control\n  }\n];\n","import Blockly from '../blockly.js'\nimport './theme.js'\nimport {light as colors} from './colors'\nexport {default as blocks} from './blocks.js'\n\nexport const toolbox = {\n  xml: `<xml>\n    <category name=\"Program\" colour=\"${colors.program}\">\n      <block type=\"Program\"></block>\n    </category>\n    <category name=\"Logic\" colour=\"${colors.control}\">\n      <block type=\"If\"></block>\n      <block type=\"Elseif\"></block>\n      <block type=\"Else\"></block>\n      <block type=\"While\"></block>\n      <block type=\"And\"></block>\n      <block type=\"Or\"></block>\n      <block type=\"Not\"></block>\n    </category>\n    <category name=\"Console\" colour=\"${colors.io}\">\n      <block type=\"String\"></block>\n      <block type=\"Print\"></block>\n      <block type=\"Line\"></block>\n      <block type=\"Input\"></block>\n      <block type=\"Concat\"></block>\n    </category>\n    <category name=\"Variables\" custom=\"variables\" colour=\"${colors.variables}\">\n    </category>\n    <category name=\"Numbers\" colour=\"${colors.numbers}\">\n      <block type=\"Number\"></block>\n      <block type=\"Plus\"></block>\n      <block type=\"Minus\"></block>\n      <block type=\"Times\"></block>\n      <block type=\"Divides\"></block>\n      <block type=\"Eq\"></block>\n      <block type=\"Neq\"></block>\n      <block type=\"Gt\"></block>\n      <block type=\"Geq\"></block>\n      <block type=\"Lt\"></block>\n      <block type=\"Leq\"></block>\n    </category>\n  </xml>`,\n\n  toolboxCategoryCallbacks: {\n    variables(workspace) {\n      var button = document.createElement('button');\n      button.setAttribute('text', 'Create variable...');\n      button.setAttribute('callbackKey', 'createVariable');\n\n      const xmls = [];\n      for (let variable of workspace.getVariablesOfType('Number')) {\n        // WARNING: no white space allowed in XML\n        xmls.push(`<xml><block type=\"Id\">${Blockly.Variables.generateVariableFieldXmlString(variable)}</block></xml>`);\n        xmls.push(`<xml><block type=\"Assignment\">${Blockly.Variables.generateVariableFieldXmlString(variable)}</block></xml>`);\n      }\n      return [button, ...xmls.map(x => Blockly.Xml.textToDom(x).firstChild)];\n    }\n  },\n\n  buttonCallbacks: {\n    createVariable(button) {\n      Blockly.Variables.createVariable(button.getTargetWorkspace(), null, 'Number');\n    },\n    center(button) {\n\n\n    }\n  }\n}\n\nexport const mode = {\n  start: [\n    {regex: /program\\b/, token: \"program\"},\n    {regex: /(?:if|else|while|and|or|not)\\b/, token: \"control\"},\n    {regex: /(?:print|input|line)\\b/, token: \"io\"},\n    {regex: /\"(?:[^\\\\]|\\\\.)*?(?:\"|$)/, token: \"string\"},\n    {regex: /[{(]/, indent: true},\n    {regex: /[})]/, dedent: true},\n    {regex: /[a-zA-Z]+[0-9]*/, token: \"variables\"},\n    {regex: /[0-9]+/, token: \"numbers\"},\n  ],\n  meta: {\n    electricChars: '}'\n  }\n}\n","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Link, Redirect} from \"react-router-dom\";\nimport injectSheet from 'react-jss';\nimport TextEditor from './TextEditor.js'\nimport BlocklyEditor from './BlocklyEditor'\nimport SplitView from './SplitView';\nimport Console from './Console';\nimport SharedState from './SharedState';\nimport Task from './Task';\nimport Tabs from './Tabs';\nimport TabsHeader from './TabsHeader';\nimport {blocks, toolbox, mode} from './lang/definitions.js'\nimport db from './db';\nimport config from './config';\n\nconst style = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    height: '100vh'\n  },\n  header: {\n    backgroundColor: '#f7f7f7',\n    borderBottom: '1px solid #ddd'\n  },\n  navigation: {\n    padding: '10px'\n  },\n  title: {\n    margin: '10px'\n  },\n  version: {\n    margin: '5px',\n    fontSize: '10px',\n  },\n  link: {\n    margin: '10px'\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: null\n    }\n  }\n\n  setUsername = username => {\n    this.setState({username})\n  }\n\n  render() {\n    const {classes} = this.props;\n    return (\n      <Router>\n        <div className={classes.container}>\n          <div className={classes.header}>\n            <nav className={classes.navigation}>\n              <span className={classes.title}>{config.name}<span className={classes.version}>{config.version}</span></span>\n              <Link className={classes.link} to=\"/\">Domov</Link>\n              <Link className={classes.link} to=\"/user\">Uporabnik</Link>\n              <Link className={classes.link} to=\"/playground1\">Bločno</Link>\n              <Link className={classes.link} to=\"/playground2\">Tekstovno</Link>\n              <Link className={classes.link} to=\"/exam\">Naloge</Link>\n              {this.state.username}\n            </nav>\n          </div>\n          <div style={{flex: '1 1 0', padding: '10px'}}>\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/user\" component={() => <User setUsername={this.setUsername} />} />\n            <Route path=\"/playground1\" component={Playground1} />\n            <Route path=\"/playground2\" component={Playground2} />\n            <Route path=\"/exam\" component={Exam} />\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst tasks = [\n  {\n    title: 'Naloga 1: Ogrevanje',\n    content: <div>\n      <p>Zapišite program, ki te pozdravi in izračuna naslednje račune:</p>\n\n      <pre>\n        788 + 15<br/>\n        98 - 45<br/>\n        12 * 13<br/>\n        22 / 12<br/>\n      </pre>\n\n      <pre>\n        Primer 1:<br/>\n        Zdravo!<br/>\n        803<br/>\n        53<br/>\n        156<br/>\n        1<br/>\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 2: Predhodnik/naslednik',\n    content: <div>\n        <p>Zapišite program, ki na vhodu prejme število in izpiše njegovega predhodnika in naslednika.</p>\n\n        <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n          <p>Namig:</p>\n          <p>Predhodnik je število, ki je za 1 manjše od izbranega števila.</p>\n          <p>Naslednik je število, ki je za 1 večje od izbranega števila.</p>\n        </div>\n\n        <pre>\n          Primer 1:<br/>\n          > 1<br/>\n          0<br/>\n          2<br/>\n        </pre>\n\n        <pre>\n          Primer 2:<br/>\n          > 6<br/>\n          5<br/>\n          7<br/>\n        </pre>\n      </div>\n  },\n  {\n    title: 'Naloga 3: Varno deljenje',\n    content: <div>\n      <p>Zapišite program, ki prejme dve števili in nad njima izvede varno deljene.</p>\n      <p>Pri matematiki, je deljenje z 0 nedefinirano, torej nam računalnik v tem primeru zato vrne napako.\n      Operacija varnega deljenja namesto napake vrne kar število 0.</p>\n\n      <pre>\n        Primer 1:<br/>\n        > 1<br/>\n        > 0<br/>\n        0<br/>\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 10<br/>\n        > 5<br/>\n        2<br/>\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 4: Zmnožek prvih n števil',\n    content: <div>\n      <p>Napišite program, ki na vhodu prejme poljubno število n in izračuna zmnožek vseh števil od 1 do n.</p>\n      <p>Dobljenemu številu v matematiki rečemo tudi fakulteta in ga zapišemo kot \"n!\".</p>\n      <p>V primeru, da uporabnik vnese število manjše ali enako 0 program ne vrne ničesar.</p>\n\n      <pre>\n        Primer 1:<br/>\n        > 0 <br />\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 4 <br />\n        24 <br />\n      </pre>\n\n      <pre>\n        Primer 3:<br/>\n        > 8 <br />\n        40320 <br />\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 5: Ugibanje kvadrata števila',\n    content: <div>\n      <p>Napišite interaktivni program za učenje kvadriranja števil. Program naj omogoča,\n      da najprej vnesete poljubno število nato pa vnesete še njegov kvadrat, nato pa program preveri ali ste kvadrat pravilno izračunali.\n      Program lahko zaključite tako, da ne vnesete dobenega števila (samo enter)</p>\n\n      <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n        <p>Namig:</p>\n        <p>Kvadrat števila lahko izračunate, da število pomnožite samo s sabo (x² = x * x)</p>\n      </div>\n\n      <pre>\n        Primer 1:<br />\n        > 10 <br />\n        > 100 <br />\n        Pravilno! <br />\n        > 5 <br />\n        > 25 <br />\n        Pravilno! <br />\n        > 2 <br />\n        > 1 <br />\n        Narobe! <br />\n        > Enter <br />\n      </pre>\n    </div>\n  },\n  {\n    title: 'Naloga 6: Fibonacci',\n    content: <div>\n      <p>Napišite program, ki bo izpisal zaporedje prvih n členov Fibonaccijevega zaporedja.</p>\n\n      <div style={{border: '1px solid gray', display: 'inline-block', padding: 10}}>\n        <p>Namig:</p>\n        <p>Za rešitev te naloge boste potrebovali tri spremenljivke.</p>\n      </div>\n\n      <p>Zaporedje je podano z naslednjo enačbo:</p>\n      <pre>\n        f(0) = 0 <br />\n        f(1) = 1 <br />\n        f(n) = f(n - 1) + f(n - 2) <br />\n      </pre>\n      <p>Ta enačba nam pove, da n-ti člen v zaporedju izračunamo, kot vsoto prejšnjih dveh. Prva dva člena pa sta 0 in 1.</p>\n      <p>Izračun za prvih nekaj členov:</p>\n      <pre>\n        f(0) = 0 <br />\n        f(1) = 1 <br />\n        f(2) = 0 + 1 = 1 <br />\n        f(3) = 1 + 1 = 2 <br />\n        f(4) = 1 + 2 = 3 <br />\n        f(5) = 2 + 3 = 5 <br />\n        f(6) = 3 + 5 = 8 <br />\n        ...\n      </pre>\n\n      <pre>\n        Primer 1:<br/>\n        > 0 <br />\n        0 <br />\n      </pre>\n\n      <pre>\n        Primer 2:<br/>\n        > 3 <br />\n        3 <br />\n      </pre>\n\n      <pre>\n        Primer 3:<br/>\n        > 6 <br />\n        8 <br />\n      </pre>\n    </div>\n  },\n]\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <h1>{config.name}</h1>\n        <p>\n          <Link to=\"/playground1\">Bločno</Link>\n        </p>\n        <p>\n          <Link to=\"/playground2\">Tekstovno</Link>\n        </p>\n        <p>\n          <Link to=\"/exam\">Naloge</Link>\n        </p>\n     </div>\n    );\n  }\n}\n\nclass User extends Component {\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const {username, password} = event.target;\n    const auth = window.btoa(`${username.value}:${password.value}`);\n    if (await db.tryAccess(auth)) {\n      localStorage.setItem('Username', username.value);\n      localStorage.setItem('Auth', auth);\n      this.props.setUsername(username.value);\n    }\n  }\n\n  onClick = () => {\n    localStorage.removeItem('Username');\n    localStorage.removeItem('Auth');\n    this.props.setUsername(null);\n  }\n\n  render() {\n    return (\n      <div>\n        <form style={{display: 'table', borderSpacing: 10, outline: '1px solid #ddd'}} onSubmit={this.onSubmit}>\n          <div style={{display: 'table-row'}}>\n            <label style={{display: 'table-cell'}}>Uporabniško ime:</label>\n            <input style={{display: 'table-cell'}} type=\"text\" name=\"username\" />\n          </div>\n          <div style={{display: 'table-row'}}>\n            <label style={{display: 'table-cell'}}>Geslo:</label>\n            <input style={{display: 'table-cell'}} type=\"password\" name=\"password\" />\n          </div>\n          <input type='submit' value='Prijava' />\n          <button onClick={this.onClick}>Odjava</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nclass Playground1 extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <SharedState name='playground1' task='playgroud' render={(sharedState, sharedStore) => (\n        <SplitView style={{}}>\n          <SplitView style={{flexDirection: 'column'}}>\n            <Console sharedState={sharedState} sharedStore={sharedStore} />\n          </SplitView>\n          <SplitView style={{flexDirection: 'column'}}>\n            <BlocklyEditor sharedState={sharedState} sharedStore={sharedStore} blocks={blocks} toolbox={toolbox} />\n            <TextEditor sharedState={sharedState} sharedStore={sharedStore} mode={mode} />\n          </SplitView>\n        </SplitView>\n      )} />\n    );\n  }\n}\n\nclass Playground2 extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <SharedState name='playground2' task='playground' render={(sharedState, sharedStore) => (\n        <SplitView style={{}}>\n          <SplitView style={{flexDirection: 'column'}}>\n            <Console sharedState={sharedState} sharedStore={sharedStore} task='playground' />\n          </SplitView>\n          <SplitView style={{flexDirection: 'column'}}>\n            <TextEditor sharedState={sharedState} sharedStore={sharedStore} mode={mode} />\n            <BlocklyEditor sharedState={sharedState} sharedStore={sharedStore} blocks={blocks} toolbox={toolbox} />\n          </SplitView>\n        </SplitView>\n      )} />\n    );\n  }\n}\n\nclass Exam extends Component {\n  render() {\n    const {classes} = this.props;\n    return (\n      <Tabs activeTab={1}>\n        {tasks.map((task, i) =>\n          <SharedState tabName={i + 1} name={task.title} task={task} render={(sharedState, sharedStore) => (\n            <SplitView style={{}}>\n              <SplitView style={{flexDirection: 'column'}}>\n                <div style={{display: 'flex', height: '100%', flexDirection: 'column'}}>\n                  <TabsHeader />\n                  <Task title={task.title} content={task.content} />\n                </div>\n                <Console sharedState={sharedState} sharedStore={sharedStore} task={task} />\n              </SplitView>\n              <SplitView style={{flexDirection: 'column'}}>\n                <TextEditor sharedState={sharedState} sharedStore={sharedStore} mode={mode} />\n              </SplitView>\n            </SplitView>\n            )} />\n          )}\n      </Tabs>\n    );\n  }\n}\n\nexport default injectSheet(style)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}